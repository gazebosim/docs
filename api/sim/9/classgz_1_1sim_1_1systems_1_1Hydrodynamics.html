<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Sim">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Sim: Hydrodynamics Class Reference</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Sim</h1>
        <h2>API Reference</h2>
        <div class="version">
        9.4.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegz.html">gz</a></li><li class="navelem"><a class="el" href="namespacegz_1_1sim.html">sim</a></li><li class="navelem"><a class="el" href="namespacegz_1_1sim_1_1systems.html">systems</a></li><li class="navelem"><a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html">Hydrodynamics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classgz_1_1sim_1_1systems_1_1Hydrodynamics-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">Hydrodynamics Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class provides hydrodynamic behaviour for underwater vehicles It is shamelessly based off Brian Bingham's <a href="https://github.com/osrf/vrx">plugin for VRX</a>. which in turn is based of Fossen's equations described in "Guidance and
Control of Ocean Vehicles" [1]. The class should be used together with the buoyancy plugin to help simulate behaviour of maritime vehicles. <a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html" title="This class provides hydrodynamic behaviour for underwater vehicles It is shamelessly based off Brian ...">Hydrodynamics</a> refers to the behaviour of bodies in water. It includes forces like linear and quadratic drag, buoyancy (not provided by this plugin), etc.  
 <a href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Hydrodynamics_8hh_source.html">Hydrodynamics.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad814a0fa59e961e63e4e6e1b3934fcc0" id="r_ad814a0fa59e961e63e4e6e1b3934fcc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html#ad814a0fa59e961e63e4e6e1b3934fcc0">Hydrodynamics</a> ()</td></tr>
<tr class="memdesc:ad814a0fa59e961e63e4e6e1b3934fcc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:ad814a0fa59e961e63e4e6e1b3934fcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3704bf6f1e341281340ce2a390cd6766" id="r_a3704bf6f1e341281340ce2a390cd6766"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html#a3704bf6f1e341281340ce2a390cd6766">~Hydrodynamics</a> () override</td></tr>
<tr class="memdesc:a3704bf6f1e341281340ce2a390cd6766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a3704bf6f1e341281340ce2a390cd6766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7152911f842cc6942254345cd6f9162" id="r_aa7152911f842cc6942254345cd6f9162"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html#aa7152911f842cc6942254345cd6f9162">Configure</a> (const <a class="el" href="namespacegz_1_1sim.html#ad83694d867b0e3a9446b535b5dfd208d">Entity</a> &amp;_entity, const <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt; const sdf::Element &gt; &amp;_sdf, <a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;_ecm, <a class="el" href="classgz_1_1sim_1_1EventManager.html">EventManager</a> &amp;) override</td></tr>
<tr class="memdesc:aa7152911f842cc6942254345cd6f9162"><td class="mdescLeft">&#160;</td><td class="mdescRight">Documentation inherited.  <br /></td></tr>
<tr class="separator:aa7152911f842cc6942254345cd6f9162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b" id="r_abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html#abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b">PostUpdate</a> (const <a class="el" href="structgz_1_1sim_1_1UpdateInfo.html">UpdateInfo</a> &amp;_info, const <a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;_ecm) override</td></tr>
<tr class="memdesc:abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Documentation inherited.  <br /></td></tr>
<tr class="separator:abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f5188e01b980aa78ab631227b0d193" id="r_a94f5188e01b980aa78ab631227b0d193"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html#a94f5188e01b980aa78ab631227b0d193">PreUpdate</a> (const <a class="el" href="structgz_1_1sim_1_1UpdateInfo.html">UpdateInfo</a> &amp;_info, <a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;_ecm) override</td></tr>
<tr class="memdesc:a94f5188e01b980aa78ab631227b0d193"><td class="mdescLeft">&#160;</td><td class="mdescRight">Documentation inherited.  <br /></td></tr>
<tr class="separator:a94f5188e01b980aa78ab631227b0d193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgz_1_1sim_1_1System"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgz_1_1sim_1_1System')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgz_1_1sim_1_1System.html">System</a></td></tr>
<tr class="memitem:aad5da93cf8921039ac524abb10ad4254 inherit pub_methods_classgz_1_1sim_1_1System" id="r_aad5da93cf8921039ac524abb10ad4254"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1System.html#aad5da93cf8921039ac524abb10ad4254">System</a> ()=default</td></tr>
<tr class="memdesc:aad5da93cf8921039ac524abb10ad4254 inherit pub_methods_classgz_1_1sim_1_1System"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:aad5da93cf8921039ac524abb10ad4254 inherit pub_methods_classgz_1_1sim_1_1System"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d73261228a8127f188edb3aa46fc21 inherit pub_methods_classgz_1_1sim_1_1System" id="r_a75d73261228a8127f188edb3aa46fc21"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1System.html#a75d73261228a8127f188edb3aa46fc21">~System</a> ()=default</td></tr>
<tr class="memdesc:a75d73261228a8127f188edb3aa46fc21 inherit pub_methods_classgz_1_1sim_1_1System"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a75d73261228a8127f188edb3aa46fc21 inherit pub_methods_classgz_1_1sim_1_1System"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classgz_1_1sim_1_1System"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classgz_1_1sim_1_1System')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classgz_1_1sim_1_1System.html">System</a></td></tr>
<tr class="memitem:adec1e7fffb154d1713093e63839e6674 inherit pub_types_classgz_1_1sim_1_1System" id="r_adec1e7fffb154d1713093e63839e6674"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1System.html#adec1e7fffb154d1713093e63839e6674">PriorityType</a> = int32_t</td></tr>
<tr class="memdesc:adec1e7fffb154d1713093e63839e6674 inherit pub_types_classgz_1_1sim_1_1System"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signed integer type used for specifying priority of the execution order of PreUpdate and Update phases.  <br /></td></tr>
<tr class="separator:adec1e7fffb154d1713093e63839e6674 inherit pub_types_classgz_1_1sim_1_1System"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classgz_1_1sim_1_1System"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classgz_1_1sim_1_1System')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classgz_1_1sim_1_1System.html">System</a></td></tr>
<tr class="memitem:adee7773e6922c28ce6740e46286922a0 inherit pub_static_attribs_classgz_1_1sim_1_1System" id="r_adee7773e6922c28ce6740e46286922a0"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="classgz_1_1sim_1_1System.html#adec1e7fffb154d1713093e63839e6674">PriorityType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1System.html#adee7773e6922c28ce6740e46286922a0">kDefaultPriority</a> = {0}</td></tr>
<tr class="memdesc:adee7773e6922c28ce6740e46286922a0 inherit pub_static_attribs_classgz_1_1sim_1_1System"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default priority value for execution order of the PreUpdate and Update phases.  <br /></td></tr>
<tr class="separator:adee7773e6922c28ce6740e46286922a0 inherit pub_static_attribs_classgz_1_1sim_1_1System"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757af821100398b9f4c38abbfed041dc inherit pub_static_attribs_classgz_1_1sim_1_1System" id="r_a757af821100398b9f4c38abbfed041dc"><td class="memItemLeft" align="right" valign="top">static constexpr std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1System.html#a757af821100398b9f4c38abbfed041dc">kPriorityElementName</a></td></tr>
<tr class="memdesc:a757af821100398b9f4c38abbfed041dc inherit pub_static_attribs_classgz_1_1sim_1_1System"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the XML element from which the priority value will be parsed.  <br /></td></tr>
<tr class="separator:a757af821100398b9f4c38abbfed041dc inherit pub_static_attribs_classgz_1_1sim_1_1System"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides hydrodynamic behaviour for underwater vehicles It is shamelessly based off Brian Bingham's <a href="https://github.com/osrf/vrx">plugin for VRX</a>. which in turn is based of Fossen's equations described in "Guidance and
Control of Ocean Vehicles" [1]. The class should be used together with the buoyancy plugin to help simulate behaviour of maritime vehicles. <a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html" title="This class provides hydrodynamic behaviour for underwater vehicles It is shamelessly based off Brian ...">Hydrodynamics</a> refers to the behaviour of bodies in water. It includes forces like linear and quadratic drag, buoyancy (not provided by this plugin), etc. </p>
<h2><a class="anchor" id="system-parameters-13"></a>
System Parameters</h2>
<p>The exact description of these parameters can be found on p. 37 and p. 43 of Fossen's book. They are used to calculate added mass, linear and quadratic drag and coriolis force.</p>
<h3><a class="anchor" id="diagonal-terms"></a>
Diagonal terms:</h3>
<ul>
<li>&lt;xDotU&gt; - (Deprecated) Added mass in x direction [kg]</li>
<li>&lt;yDotV&gt; - (Deprecated) Added mass in y direction [kg]</li>
<li>&lt;zDotW&gt; - (Deprecated) Added mass in z direction [kg]</li>
<li>&lt;kDotP&gt; - (Deprecated) Added mass in roll direction [kgm^2]</li>
<li>&lt;mDotQ&gt; - (Deprecated) Added mass in pitch direction [kgm^2]</li>
<li>&lt;nDotR&gt; - (Deprecated) Added mass in yaw direction [kgm^2]</li>
<li>&lt;xUabsU&gt; - Quadratic damping, 2nd order, x component [kg/m]</li>
<li>&lt;xU&gt; - Linear damping, 1st order, x component [kg]</li>
<li>&lt;yVabsV&gt; - Quadratic damping, 2nd order, y component [kg/m]</li>
<li>&lt;yV&gt; - Linear damping, 1st order, y component [kg]</li>
<li>&lt;zWabsW&gt; - Quadratic damping, 2nd order, z component [kg/m]</li>
<li>&lt;zW&gt; - Linear damping, 1st order, z component [kg]</li>
<li>&lt;kPabsP&gt; - Quadratic damping, 2nd order, roll component [kg/m^2]</li>
<li>&lt;kP&gt; - Linear damping, 1st order, roll component [kg/m]</li>
<li>&lt;mQabsQ&gt; - Quadratic damping, 2nd order, pitch component [kg/m^2]</li>
<li>&lt;mQ&gt; - Linear damping, 1st order, pitch component [kg/m]</li>
<li>&lt;nRabsR&gt; - Quadratic damping, 2nd order, yaw component [kg/m^2]</li>
<li>&lt;nR&gt; - Linear damping, 1st order, yaw component [kg/m]</li>
</ul>
<h3><a class="anchor" id="cross-terms"></a>
Cross terms</h3>
<p>In general we support cross terms as well. These are terms which act on non-diagonal sides. We use the SNAMe convention of naming search terms. (x, y, z) correspond to the respective axis. (k, m, n) correspond to roll, pitch and yaw. Similarly U, V, W represent velocity vectors in X, Y and Z axis while P, Q, R represent angular velocity in roll, pitch and yaw axis respectively.</p><ul>
<li>Added Mass: &lt;{x|y|z|k|m|n}Dot{U|V|W|P|Q|R}&gt; e.g. &lt;xDotR&gt; (Deprecated) Units are either kg or kgm^2 depending on the choice of terms. You should use the sdf method based spec <a href="http://sdformat.org/spec?ver=1.11&elem=link#inertial_fluid_added_mass">http://sdformat.org/spec?ver=1.11&amp;elem=link#inertial_fluid_added_mass</a></li>
<li>Quadratic Damping With abs term (this is probably what you want): &lt;{x|y|z|k|m|n}{U|V|W|P|Q|R}abs{U|V|W|P|Q|R}&gt; e.g. &lt;xRabsQ&gt; Units are either kg/m or kg/m^2.</li>
<li>Quadratic Damping (could lead to unwanted oscillations): &lt;{x|y|z|k|m|n}{U|V|W|P|Q|R}{U|V|W|P|Q|R}&gt; e.g. &lt;xRQ&gt; Units are either kg/m or kg/m^2.</li>
<li>Linear Damping: &lt;{x|y|z|k|m|n}{U|V|W|P|Q|R}&gt;. e.g. &lt;xR&gt; Units are either kg or kg or kg/m. Additionally the system also supports the following parameters:</li>
<li>&lt;water_density&gt; - The density of the fluid its moving in. Defaults to 998kgm^-3. [kgm^-3]</li>
<li>&lt;link_name&gt; - The link of the model that is being subject to hydrodynamic forces. [Required]</li>
<li>&lt;namespace&gt; - This allows the robot to have an individual namespace for current. This is useful when you have multiple vehicles in different locations and you wish to set the currents of each vehicle separately. If no namespace is given then the plugin listens on the <code>/ocean_current</code> topic for a <code>Vector3d</code> message. Otherwise it listens on <code>/model/{namespace name}/ocean_current</code>.[String, Optional]</li>
<li>&lt;default_current&gt; - A generic current. [vector3d m/s, optional, default = [0,0,0]m/s]</li>
<li>&lt;disable_coriolis&gt; - Disable Coriolis force [Boolean, Default: false]</li>
<li>&lt;disable_added_mass&gt; - Disable Added Mass [Boolean, Default: false]. To be deprecated in Garden.</li>
</ul>
<h3><a class="anchor" id="loading-external-currents"></a>
Loading external currents</h3>
<p>One can use the <a class="el" href="classgz_1_1sim_1_1systems_1_1EnvironmentPreload.html" title="A plugin to preload an Environment component into the ECM upon simulation start-up.">EnvironmentPreload</a> system to preload currents into the plugin using data files. To use the data you may give CSV column names by using <code>lookup_current_*</code> tags listed below:</p><ul>
<li>&lt;lookup_current_x&gt; - X axis to use for lookup current</li>
<li>&lt;lookup_current_y&gt; - Y axis to use for lookup current</li>
<li>&lt;lookup_current_z&gt; - Z axis to use for lookup current If any one of the fields is present, it is assumed current is to be loaded by a data file and the topic will be ignored. If one or two fields are present, the missing fields are assumed to default to zero.</li>
</ul>
<h1><a class="anchor" id="example-3"></a>
Example</h1>
<p>An example configuration is provided in the examples folder. The example uses the <a class="el" href="classgz_1_1sim_1_1systems_1_1LiftDrag.html" title="The LiftDrag system computes lift and drag forces enabling simulation of aerodynamic robots.">LiftDrag</a> plugin to apply steering controls. It also uses the thruster plugin to propel the craft and the buoyancy plugin for buoyant force. To run the example run. </p><div class="fragment"><div class="line"><a class="code hl_namespace" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> sim auv_controls.sdf</div>
</div><!-- fragment --><p> To control the rudder of the craft run the following </p><div class="fragment"><div class="line"><a class="code hl_namespace" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> topic -t /model/tethys/joint/vertical_fins_joint/0/cmd_pos</div>
<div class="line">   -m <a class="code hl_namespace" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a>.<a class="code hl_namespaceRef" href="https://gazebosim.org/api/msgs/11/namespacegz_1_1msgs.html">msgs</a>.Double -p <span class="stringliteral">&#39;data: -0.17&#39;</span></div>
</div><!-- fragment --><p> To apply a thrust you may run the following command </p><div class="fragment"><div class="line"><a class="code hl_namespace" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> topic -t /model/tethys/joint/propeller_joint/cmd_pos</div>
<div class="line">-m <a class="code hl_namespace" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a>.<a class="code hl_namespaceRef" href="https://gazebosim.org/api/msgs/11/namespacegz_1_1msgs.html">msgs</a>.Double -p <span class="stringliteral">&#39;data: -31&#39;</span></div>
</div><!-- fragment --><p> The vehicle should move in a circle.</p>
<h2><a class="anchor" id="ocean-currents"></a>
Ocean Currents</h2>
<p>When underwater, vehicles are often subject to ocean currents. The hydrodynamics plugin allows simulation of such currents. We can add a current simply by publishing the following: </p><div class="fragment"><div class="line"><a class="code hl_namespace" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> topic -t /ocean_current -m <a class="code hl_namespace" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a>.<a class="code hl_namespaceRef" href="https://gazebosim.org/api/msgs/11/namespacegz_1_1msgs.html">msgs</a>.Vector3d -p <span class="stringliteral">&#39;x: 1, y:0, z:0&#39;</span></div>
</div><!-- fragment --><p> You should observe your vehicle slowly drift to the side.</p>
<h1><a class="anchor" id="citations"></a>
Citations</h1>
<p>[1] Fossen, Thor I. <em>Guidance and Control of Ocean Vehicles</em>. United Kingdom: Wiley, 1994. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad814a0fa59e961e63e4e6e1b3934fcc0" name="ad814a0fa59e961e63e4e6e1b3934fcc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad814a0fa59e961e63e4e6e1b3934fcc0">&#9670;&#160;</a></span>Hydrodynamics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html">Hydrodynamics</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<a id="a3704bf6f1e341281340ce2a390cd6766" name="a3704bf6f1e341281340ce2a390cd6766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3704bf6f1e341281340ce2a390cd6766">&#9670;&#160;</a></span>~Hydrodynamics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classgz_1_1sim_1_1systems_1_1Hydrodynamics.html">Hydrodynamics</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa7152911f842cc6942254345cd6f9162" name="aa7152911f842cc6942254345cd6f9162"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7152911f842cc6942254345cd6f9162">&#9670;&#160;</a></span>Configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Configure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacegz_1_1sim.html#ad83694d867b0e3a9446b535b5dfd208d">Entity</a> &amp;&#160;</td>
          <td class="paramname"><em>_entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt; const sdf::Element &gt; &amp;&#160;</td>
          <td class="paramname"><em>_sdf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;&#160;</td>
          <td class="paramname"><em>_ecm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgz_1_1sim_1_1EventManager.html">EventManager</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Documentation inherited. </p>

<p>Implements <a class="el" href="classgz_1_1sim_1_1ISystemConfigure.html#ac5fc9ce04c3166a5322016b5f2d303e0">ISystemConfigure</a>.</p>

</div>
</div>
<a id="abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b" name="abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf20cb4dcc1ba56b0a6dcf2ddc4e0c9b">&#9670;&#160;</a></span>PostUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PostUpdate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgz_1_1sim_1_1UpdateInfo.html">UpdateInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;&#160;</td>
          <td class="paramname"><em>_ecm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Documentation inherited. </p>

<p>Implements <a class="el" href="classgz_1_1sim_1_1ISystemPostUpdate.html#a5d6d10e755124920d74bbddfb418eb4f">ISystemPostUpdate</a>.</p>

</div>
</div>
<a id="a94f5188e01b980aa78ab631227b0d193" name="a94f5188e01b980aa78ab631227b0d193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f5188e01b980aa78ab631227b0d193">&#9670;&#160;</a></span>PreUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PreUpdate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgz_1_1sim_1_1UpdateInfo.html">UpdateInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;&#160;</td>
          <td class="paramname"><em>_ecm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Documentation inherited. </p>

<p>Implements <a class="el" href="classgz_1_1sim_1_1ISystemPreUpdate.html#a760b8673aaf01408786c9ececb8ba520">ISystemPreUpdate</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Hydrodynamics_8hh_source.html">Hydrodynamics.hh</a></li>
</ul>
</div><!-- contents -->
      </div>
    </main>
  </div>
</body>
