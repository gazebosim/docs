<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Sim">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Sim: Physics engines</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Sim</h1>
        <h2>API Reference</h2>
        <div class="version">
        9.4.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Physics engines</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Gazebo supports choosing what physics engine to use at runtime. This is made possible by <a href="https://gazebosim.org/libs/physics">Gazebo Physics</a>' abstraction layer.</p>
<p>Gazebo uses the <a href="https://dartsim.github.io/">DART</a> physics engine by default.</p>
<p>Downstream developers may also integrate other physics engines by creating new Gazebo Physics engine plugins. See <a href="https://gazebosim.org/api/physics/8/tutorials.html">Gazebo Physics</a>'s tutorials to learn how to integrate a new engine.</p>
<h2><a class="anchor" id="how-gazebo-finds-engines"></a>
How Gazebo finds engines</h2>
<p>Gazebo automatically looks for all physics engine plugins that are installed with Gazebo Physics. At the moment, the primary implementation is DART (<code>gz-physics-dartsim-plugin</code>). There is also preliminary support for Bullet (<code>gz-physics-bullet-plugin</code>) and the Bullet Featherstone implementation (<code>gz-physics-bullet-featherstone-plugin</code>)</p>
<p>If you've created a custom engine plugin, you can tell Gazebo where to find it by setting the <code>GZ_SIM_PHYSICS_ENGINE_PATH</code> environment variable to the directory where the plugin's shared library can be found.</p>
<p>For example, if you've created the following physics engine shared library:</p>
<div class="fragment"><div class="line"># Linux</div>
<div class="line">/home/physics_engines/libCustomEngine.so</div>
<div class="line"># Windows</div>
<div class="line">C:\Users\Robot\physics_engines\CustomEngine.dll</div>
</div><!-- fragment --><p>You should set the variable as follows:</p>
<div class="fragment"><div class="line"># Linux</div>
<div class="line">export GZ_SIM_PHYSICS_ENGINE_PATH=/home/physics_engines</div>
<div class="line"># Windows</div>
<div class="line">set GZ_SIM_PHYSICS_ENGINE_PATH=C:\Users\Robot\physics_engines</div>
</div><!-- fragment --><p>If you have several libraries installed in different paths, you can add more paths, for example:</p>
<div class="fragment"><div class="line"># Linux, separate with :</div>
<div class="line">export GZ_SIM_PHYSICS_ENGINE_PATH=/home/physics_engines:/home/more_engines</div>
<div class="line"># Windows, separate with ;</div>
<div class="line">set GZ_SIM_PHYSICS_ENGINE_PATH=C:\Users\Robot\physics_engines;C:\MoreEngines</div>
</div><!-- fragment --><h2><a class="anchor" id="tell-gazebo-what-engine-to-load"></a>
Tell Gazebo what engine to load</h2>
<p>There are a few different ways of telling Gazebo which engine to load.</p>
<p>For any method, you should provide the name of your plugin's shared library, but the <code>lib</code> prefix and the file extension are optional. So in this example, the file is <code>libCustomEngine.so</code> but it's enough to set <code>CustomEngine</code>. That is also preferred to support multiple operating systems.</p>
<h3><a class="anchor" id="from-sdf"></a>
From SDF</h3>
<p>You can tell Gazebo what engine to load from the SDF world file by giving the shared library name to the <code>Physics</code> plugin tag.</p>
<p>For the example above, you can load it like this:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">plugin</span></div>
<div class="line">  <span class="keyword">filename</span>=<span class="stringliteral">&quot;gz-sim-physics-system&quot;</span></div>
<div class="line">  <span class="keyword">name</span>=<span class="stringliteral">&quot;gz::sim::systems::Physics&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">engine</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">filename</span>&gt;<span class="keyword">CustomEngine</span>&lt;/<span class="keywordtype">filename</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">engine</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">plugin</span>&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="from-the-command-line"></a>
From the command line</h3>
<p>Alternatively, you can choose a plugin from the command line using the <code>--physics-engine</code> option, for example:</p>
<div class="fragment"><div class="line">gz sim --physics-engine CustomEngine</div>
</div><!-- fragment --><p>To use an existing alternative engine (e.g. Bullet Featherstone)</p>
<p><code>gz sim --physics-engine gz-physics-bullet-featherstone-plugin</code></p>
<h3><a class="anchor" id="from-c-api-1"></a>
From C++ API</h3>
<p>All features available through the command line are also available through <a class="el" href="classgz_1_1sim_1_1ServerConfig.html">gz::sim::ServerConfig</a>. When instantiating a server programmatically, a physics engine can be passed to the constructor, for example:</p>
<div class="fragment"><div class="line">gz::sim::ServerConfig serverConfig;</div>
<div class="line">serverConfig.SetPhysicsEngine(&quot;CustomEngine&quot;);</div>
<div class="line"> </div>
<div class="line">gz::sim::Server server(serverConfig);</div>
</div><!-- fragment --><h2><a class="anchor" id="engine-configuration"></a>
Engine configuration</h2>
<p>Gazebo supports the following physics engine configurations through SDF. These options are available to all physics engines, but not all engines may support them. The default physics engine, DART, supports all these options.</p>
<ul>
<li><a href="http://sdformat.org/spec?ver=1.11&amp;elem=physics#dart_collision_detector">//physics/dart/collision_detector</a><ul>
<li>Options supported by DART: <code>ode</code> (default), <code>bullet</code>, <code>fcl</code>, <code>dart</code>.</li>
</ul>
</li>
<li><a href="http://sdformat.org/spec?ver=1.11&amp;elem=physics#solver_solver_type">//physics/dart/solver/solver_type</a><ul>
<li>Options supported by DART: <code>dantzig</code> (default), <code>pgs</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="troubleshooting-1"></a>
Troubleshooting</h2>
<blockquote class="doxtable">
<p>&zwj;Failed to find plugin [libCustomEngine.so]. Have you checked the GZ_SIM_PHYSICS_ENGINE_PATH environment variable? </p>
</blockquote>
<p>Gazebo can't find out where <code>libCustomEngine.so</code> or <code>CustomEngine.dll</code> is located.</p>
<p>If that's an engine you believe should be installed with Gazebo Physics, check if the relevant plugin is installed.</p>
<p>If that's a 3rd party engine, find where the <code>.so</code> or <code>.dll</code> file is installed and add that path to the environment variable as described above.</p>
<blockquote class="doxtable">
<p>&zwj;Unable to load the [/home/physics_engines/libCustomEngine.so] library. </p>
</blockquote>
<p>There was some problem loading that file. Check that it exists, that you have permissions to access it, and that it's actually a physics engine plugin.</p>
<blockquote class="doxtable">
<p>&zwj;No physics plugins implementing required interface found in library [/home/physics_engines/libCustomEngine.so] </p>
</blockquote>
<p>The library was found but none of the plugins in the library implement the required interface to be considered a physics plugin.</p>
<blockquote class="doxtable">
<p>&zwj;No plugins with all required features found in library [/home/physics_engines/libCustomEngine.so] </p>
</blockquote>
<p>This means that there are plugins on that library, but none of them satisfies the minimum requirement of features needed to run a Gazebo simulation. Be sure to implement all the necessary features.</p>
<blockquote class="doxtable">
<p>&zwj;Failed to load a valid physics engine from [/home/physics_engines/libCustomEngine.so] </p>
</blockquote>
<p>Some engines were found in that library, but none of them could be loaded. Check that the the engines implement all the necessary features. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
