<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Sim">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Sim: Server Configuration</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Sim</h1>
        <h2>API Reference</h2>
        <div class="version">
        9.4.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Server Configuration</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Most functionality on Gazebo is provided by plugins, which means that users can choose exactly what functionality is available to their simulations. Even running the physics engine is optional. This gives users great control and makes sure only what's crucial for a given simulation is loaded.</p>
<p>This tutorial will go over how to specify what system plugins to be loaded for a simulation.</p>
<h2><a class="anchor" id="how-to-load-plugins"></a>
How to load plugins</h2>
<p>There are a few places where the plugins can be defined:</p>
<ol type="1">
<li><code>&lt;plugin&gt;</code> elements inside an SDF file.</li>
<li>File path defined by the <code>GZ_SIM_SERVER_CONFIG_PATH</code> environment variable.</li>
<li>The default configuration file at <code>$HOME/.gz/sim/&lt;#&gt;/server.config</code> *, where <code>&lt;#&gt;</code> is Gazebo Sim's major version.</li>
</ol>
<p>The behavior of Gazebo when loading these plugins depends on the <code>&lt;include_server_config_plugins&gt;</code> policy set in <code>&lt;gz:policies&gt;</code>:</p>
<ul>
<li><code>&lt;include_server_config_plugins&gt;true&lt;/include_server_config_plugins&gt;</code>: Plugins in the SDF file are first loaded, followed by plugins from config files (either <code>GZ_SIM_SERVER_CONFIG_PATH</code> or the default configuration file). Plugins from SDF files take precedence over plugins from config files, this means, if a plugin is specified in both places, only the one specified in the SDF file will be loaded. The main use case for this is for users to rely on the default list of plugins and only add extra plugins they need for the application. This is the default setting in Gazebo Ionic and later.</li>
<li><code>&lt;include_server_config_plugins&gt;false&lt;/include_server_config_plugins&gt;</code>: If there are any plugins specified in the SDF file, plugins from the config files (either <code>GZ_SIM_SERVER_CONFIG_PATH</code> or the default configuration file) are ignored. This allows the user to have complete control over which plugins are loaded. This is the default setting in Gazebo Harmonic and earlier.</li>
</ul>
<p>In both policy settings, the default configuration file is only loaded if no plugins are passed through the <code>GZ_SIM_SERVER_CONFIG_PATH</code> environment variable.</p>
<blockquote class="doxtable">
<p>&zwj;* For log-playback, the default file is <code>$HOME/.gz/sim/&lt;#&gt;/playback_server.config</code> </p>
</blockquote>
<h2><a class="anchor" id="try-it-out-2"></a>
Try it out</h2>
<h3><a class="anchor" id="default-configuration-1"></a>
Default configuration</h3>
<p>Let's try this in practice. First, let's open Gazebo without passing any arguments:</p>
<p><code>gz sim</code></p>
<p>You should see an empty world with several systems loaded by default, such as physics, the scene broadcaster (which keeps the GUI updated), and the system that handles user commands like translating models. Try for example inserting a simple shape into simulation and pressing "play":</p>
<ul>
<li>the shape is inserted correctly because the user commands system is loaded;</li>
<li>the shape falls due to gravity because the physics system is loaded;</li>
<li>and you can see the shape falling through the GUI because the scene broadcaster is loaded.</li>
</ul>
<div class="image">
<img src="default_server.gif" alt=""/>
</div>
<p>By default, you're loading this file:</p>
<p><code>$HOME/.gz/sim/&lt;#&gt;/server.config</code></p>
<p>That file is created the first time you load Gazebo. Once it is created, Gazebo will never write to it again unless you delete it. This means that you can customize it with your preferences and they will be applied every time Gazebo is started!</p>
<p>Let's try customizing it:</p>
<ol type="1">
<li><p class="startli">Open this file with your favorite editor:</p>
<p class="startli"><code>$HOME/.gz/sim/&lt;#&gt;/server.config</code></p>
</li>
<li>Remove the <code>&lt;plugin&gt;</code> block for the physics system</li>
<li><p class="startli">Reload Gazebo:</p>
<p class="startli"><code>gz sim</code></p>
</li>
</ol>
<p>Now insert a shape and press play: it shouldn't fall because physics wasn't loaded.</p>
<div class="image">
<img src="modified_default_config.gif" alt=""/>
</div>
<p>You'll often want to restore default settings or to use the latest default provided by Gazebo (when you update to a newer version for example). In that case, just delete that file, and the next time Gazebo is started a new file will be created with default values:</p>
<p><code>rm $HOME/.gz/sim/&lt;#&gt;/server.config</code></p>
<h3><a class="anchor" id="sdf-1"></a>
SDF</h3>
<p>Let's try overriding the default configuration from an SDF file. Open your favorite editor and save this file as <code>fuel_preview.sdf</code>:</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> ?&gt;</div>
<div class="line">&lt;<span class="keywordtype">sdf</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.6&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">world</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;fuel_preview&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">plugin</span></div>
<div class="line">      <span class="keyword">filename</span>=<span class="stringliteral">&quot;gz-sim-scene-broadcaster-system&quot;</span></div>
<div class="line">      <span class="keyword">name</span>=<span class="stringliteral">&quot;gz::sim::systems::SceneBroadcaster&quot;</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">gui</span> <span class="keyword">fullscreen</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">&lt;!-- 3D scene --&gt;</span></div>
<div class="line">      &lt;<span class="keywordtype">plugin</span> <span class="keyword">filename</span>=<span class="stringliteral">&quot;MinimalScene&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;3D View&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">title</span>&gt;3<span class="keyword">D</span> <span class="keyword">View</span>&lt;/<span class="keywordtype">title</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;showTitleBar&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;state&quot;</span>&gt;<span class="keyword">docked</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;<span class="keywordtype">engine</span>&gt;<span class="keyword">ogre2</span>&lt;/<span class="keywordtype">engine</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">scene</span>&gt;<span class="keyword">scene</span>&lt;/<span class="keywordtype">scene</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">ambient_light</span>&gt;1.0 1.0 1.0&lt;/<span class="keywordtype">ambient_light</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">background_color</span>&gt;0.4 0.6 1.0&lt;/<span class="keywordtype">background_color</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">camera_pose</span>&gt;8.3 7 7.8 0 0.5 -2.4&lt;/<span class="keywordtype">camera_pose</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">plugin</span> <span class="keyword">filename</span>=<span class="stringliteral">&quot;GzSceneManager&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Scene Manager&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;resizable&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;width&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;height&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;state&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span>&gt;<span class="keyword">floating</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;showTitleBar&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">plugin</span> <span class="keyword">filename</span>=<span class="stringliteral">&quot;InteractiveViewControl&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Interactive view control&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;resizable&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;width&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;height&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;state&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span>&gt;<span class="keyword">floating</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;showTitleBar&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;/<span class="keywordtype">gui</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">include</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">uri</span>&gt;<span class="keyword">https:</span>//<span class="keyword">fuel.gazebosim.org</span>/1.0/<span class="keyword">OpenRobotics</span>/<span class="keyword">models</span>/<span class="keyword">Sun</span>&lt;/<span class="keywordtype">uri</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">include</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">include</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">uri</span>&gt;<span class="keyword">https:</span>//<span class="keyword">fuel.gazebosim.org</span>/1.0/<span class="keyword">OpenRobotics</span>/<span class="keyword">models</span>/<span class="keyword">Construction</span> <span class="keyword">Cone</span>&lt;/<span class="keywordtype">uri</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">include</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;/<span class="keywordtype">world</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">sdf</span>&gt;</div>
</div><!-- fragment --><p>Now let's load this world:</p>
<p><code>gz sim -r &lt;path to&gt;/fuel_preview.sdf</code></p>
<p>Notice how the application has loaded the scene broadcaster, as defined on the SDF file above as well as the default plugins <code>Physics</code> and <code>UserCommands</code>. Since <code>SceneBroadcaster</code> is loaded from the SDF file, it's not loaded again. We see that the cone falls due to gravity since all the necessary plugins are loaded.</p>
<div class="image">
<img src="from_sdf_no_plugins.gif" alt=""/>
</div>
<p>Now, let's modify the SDF file to change the policy <code>&lt;include_server_config_plugins&gt;false&lt;/include_server_config_plugins&gt;</code></p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> ?&gt;</div>
<div class="line">&lt;<span class="keywordtype">sdf</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.6&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">world</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;fuel_preview&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">gz:policies</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">include_server_config_plugins</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">include_server_config_plugins</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">gz:policies</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">plugin</span></div>
<div class="line">      <span class="keyword">filename</span>=<span class="stringliteral">&quot;gz-sim-scene-broadcaster-system&quot;</span></div>
<div class="line">      <span class="keyword">name</span>=<span class="stringliteral">&quot;gz::sim::systems::SceneBroadcaster&quot;</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">gui</span> <span class="keyword">fullscreen</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">&lt;!-- 3D scene --&gt;</span></div>
<div class="line">      &lt;<span class="keywordtype">plugin</span> <span class="keyword">filename</span>=<span class="stringliteral">&quot;MinimalScene&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;3D View&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">title</span>&gt;3<span class="keyword">D</span> <span class="keyword">View</span>&lt;/<span class="keywordtype">title</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;showTitleBar&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;state&quot;</span>&gt;<span class="keyword">docked</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;<span class="keywordtype">engine</span>&gt;<span class="keyword">ogre2</span>&lt;/<span class="keywordtype">engine</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">scene</span>&gt;<span class="keyword">scene</span>&lt;/<span class="keywordtype">scene</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">ambient_light</span>&gt;1.0 1.0 1.0&lt;/<span class="keywordtype">ambient_light</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">background_color</span>&gt;0.4 0.6 1.0&lt;/<span class="keywordtype">background_color</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">camera_pose</span>&gt;8.3 7 7.8 0 0.5 -2.4&lt;/<span class="keywordtype">camera_pose</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">plugin</span> <span class="keyword">filename</span>=<span class="stringliteral">&quot;GzSceneManager&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Scene Manager&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;resizable&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;width&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;height&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;state&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span>&gt;<span class="keyword">floating</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;showTitleBar&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">plugin</span> <span class="keyword">filename</span>=<span class="stringliteral">&quot;InteractiveViewControl&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Interactive view control&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;resizable&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;width&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;height&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;double&quot;</span>&gt;5&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;state&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span>&gt;<span class="keyword">floating</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">          &lt;<span class="keywordtype">property</span> <span class="keyword">key</span>=<span class="stringliteral">&quot;showTitleBar&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;bool&quot;</span>&gt;<span class="keyword">false</span>&lt;/<span class="keywordtype">property</span>&gt;</div>
<div class="line">        &lt;/<span class="keywordtype">gz-gui</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">plugin</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;/<span class="keywordtype">gui</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">include</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">uri</span>&gt;<span class="keyword">https:</span>//<span class="keyword">fuel.gazebosim.org</span>/1.0/<span class="keyword">OpenRobotics</span>/<span class="keyword">models</span>/<span class="keyword">Sun</span>&lt;/<span class="keywordtype">uri</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">include</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">include</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">uri</span>&gt;<span class="keyword">https:</span>//<span class="keyword">fuel.gazebosim.org</span>/1.0/<span class="keyword">OpenRobotics</span>/<span class="keyword">models</span>/<span class="keyword">Construction</span> <span class="keyword">Cone</span>&lt;/<span class="keywordtype">uri</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">include</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;/<span class="keywordtype">world</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">sdf</span>&gt;</div>
</div><!-- fragment --><p> Let's load this world again:</p>
<p><code>gz sim -r &lt;path to&gt;/fuel_preview.sdf</code></p>
<p>Notice how the application has only one system plugin loaded, the <code>SceneBroadcaster</code>, as defined on the SDF file above. <code>Physics</code> is not loaded, so even though the simulation is running (started with <code>-r</code>), the cone doesn't fall with gravity.</p>
<div class="image">
<img src="from_sdf.png" alt=""/>
</div>
<p>If you delete the <code>&lt;plugin&gt;</code> element from the file above and reload it, you'll see the same model loaded with the default plugins, so it will fall.</p>
<div class="image">
<img src="from_sdf_no_plugins.gif" alt=""/>
</div>
<h3><a class="anchor" id="environment-variable"></a>
Environment variable</h3>
<p>It's often inconvenient to embed your plugins directly into every SDF file. But you also don't want to be editing the default config file every time you want to start with a different set of plugins. That's why Gazebo also supports loading configuration files from an environment variable.</p>
<p>Let's start by saving this simple world with a camera sensor as <code>simple_camera.sdf</code>:</p>
<div class="fragment"><div class="line">&lt;?xml version=&quot;1.0&quot; ?&gt;</div>
<div class="line">&lt;sdf version=&quot;1.6&quot;&gt;</div>
<div class="line">  &lt;world name=&quot;simple_camera&quot;&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;gui fullscreen=&quot;0&quot;&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;!-- 3D scene --&gt;</div>
<div class="line">      &lt;plugin filename=&quot;MinimalScene&quot; name=&quot;3D View&quot;&gt;</div>
<div class="line">        &lt;gz-gui&gt;</div>
<div class="line">          &lt;title&gt;3D View&lt;/title&gt;</div>
<div class="line">          &lt;property type=&quot;bool&quot; key=&quot;showTitleBar&quot;&gt;false&lt;/property&gt;</div>
<div class="line">          &lt;property type=&quot;string&quot; key=&quot;state&quot;&gt;docked&lt;/property&gt;</div>
<div class="line">        &lt;/gz-gui&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;engine&gt;ogre2&lt;/engine&gt;</div>
<div class="line">        &lt;scene&gt;scene&lt;/scene&gt;</div>
<div class="line">        &lt;ambient_light&gt;1.0 1.0 1.0&lt;/ambient_light&gt;</div>
<div class="line">        &lt;background_color&gt;0.4 0.6 1.0&lt;/background_color&gt;</div>
<div class="line">        &lt;camera_pose&gt;8.3 7 7.8 0 0.5 -2.4&lt;/camera_pose&gt;</div>
<div class="line">      &lt;/plugin&gt;</div>
<div class="line">      &lt;plugin filename=&quot;GzSceneManager&quot; name=&quot;Scene Manager&quot;&gt;</div>
<div class="line">        &lt;gz-gui&gt;</div>
<div class="line">          &lt;property key=&quot;resizable&quot; type=&quot;bool&quot;&gt;false&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;width&quot; type=&quot;double&quot;&gt;5&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;height&quot; type=&quot;double&quot;&gt;5&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;state&quot; type=&quot;string&quot;&gt;floating&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;showTitleBar&quot; type=&quot;bool&quot;&gt;false&lt;/property&gt;</div>
<div class="line">        &lt;/gz-gui&gt;</div>
<div class="line">      &lt;/plugin&gt;</div>
<div class="line">      &lt;plugin filename=&quot;InteractiveViewControl&quot; name=&quot;Interactive view control&quot;&gt;</div>
<div class="line">        &lt;gz-gui&gt;</div>
<div class="line">          &lt;property key=&quot;resizable&quot; type=&quot;bool&quot;&gt;false&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;width&quot; type=&quot;double&quot;&gt;5&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;height&quot; type=&quot;double&quot;&gt;5&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;state&quot; type=&quot;string&quot;&gt;floating&lt;/property&gt;</div>
<div class="line">          &lt;property key=&quot;showTitleBar&quot; type=&quot;bool&quot;&gt;false&lt;/property&gt;</div>
<div class="line">        &lt;/gz-gui&gt;</div>
<div class="line">      &lt;/plugin&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;plugin filename=&quot;ImageDisplay&quot; name=&quot;Image Display&quot;&gt;</div>
<div class="line">        &lt;gz-gui&gt;</div>
<div class="line">          &lt;property key=&quot;state&quot; type=&quot;string&quot;&gt;floating&lt;/property&gt;</div>
<div class="line">        &lt;/gz-gui&gt;</div>
<div class="line">      &lt;/plugin&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;/gui&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;include&gt;</div>
<div class="line">      &lt;uri&gt;https://fuel.gazebosim.org/1.0/OpenRobotics/models/Sun&lt;/uri&gt;</div>
<div class="line">    &lt;/include&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;include&gt;</div>
<div class="line">      &lt;pose&gt;0 0 1 0 0 0&lt;/pose&gt;</div>
<div class="line">      &lt;uri&gt;https://fuel.gazebosim.org/1.0/OpenRobotics/models/Gazebo&lt;/uri&gt;</div>
<div class="line">    &lt;/include&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;model name=&quot;camera&quot;&gt;</div>
<div class="line">      &lt;static&gt;true&lt;/static&gt;</div>
<div class="line">      &lt;pose&gt;20 0 1.0 0 0.0 3.14&lt;/pose&gt;</div>
<div class="line">      &lt;link name=&quot;link&quot;&gt;</div>
<div class="line">        &lt;pose&gt;0.05 0.05 0.05 0 0 0&lt;/pose&gt;</div>
<div class="line">        &lt;visual name=&quot;visual&quot;&gt;</div>
<div class="line">          &lt;geometry&gt;</div>
<div class="line">            &lt;box&gt;</div>
<div class="line">              &lt;size&gt;0.1 0.1 0.1&lt;/size&gt;</div>
<div class="line">            &lt;/box&gt;</div>
<div class="line">          &lt;/geometry&gt;</div>
<div class="line">        &lt;/visual&gt;</div>
<div class="line">        &lt;sensor name=&quot;camera&quot; type=&quot;camera&quot;&gt;</div>
<div class="line">          &lt;camera&gt;</div>
<div class="line">            &lt;horizontal_fov&gt;1.047&lt;/horizontal_fov&gt;</div>
<div class="line">            &lt;image&gt;</div>
<div class="line">              &lt;width&gt;320&lt;/width&gt;</div>
<div class="line">              &lt;height&gt;240&lt;/height&gt;</div>
<div class="line">            &lt;/image&gt;</div>
<div class="line">          &lt;/camera&gt;</div>
<div class="line">          &lt;update_rate&gt;30&lt;/update_rate&gt;</div>
<div class="line">        &lt;/sensor&gt;</div>
<div class="line">      &lt;/link&gt;</div>
<div class="line">    &lt;/model&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;/world&gt;</div>
<div class="line">&lt;/sdf&gt;</div>
</div><!-- fragment --><p>Then load the <code>simple_camera.sdf</code> world:</p>
<p><code>gz sim -r &lt;path to&gt;/simple_camera.sdf</code></p>
<p>You'll see a world with a camera and a cone. If you refresh the image display plugin, it won't show any image topics. That's because the default server configuration doesn't include the sensors system, which is necessary for rendering-based sensors to generate data.</p>
<div class="image">
<img src="camera_no_env.gif" alt=""/>
</div>
<p>Now let's create a custom configuration file in <code>$HOME/.gz/sim/rendering_sensors_server.config</code> that has the sensors system:</p>
<div class="fragment"><div class="line">&lt;server_config&gt;</div>
<div class="line">  &lt;plugins&gt;</div>
<div class="line">    &lt;plugin entity_name=&quot;*&quot;</div>
<div class="line">            entity_type=&quot;world&quot;</div>
<div class="line">            filename=&quot;gz-sim-scene-broadcaster-system&quot;</div>
<div class="line">            name=&quot;gz::sim::systems::SceneBroadcaster&quot;&gt;</div>
<div class="line">    &lt;/plugin&gt;</div>
<div class="line">    &lt;plugin entity_name=&quot;*&quot;</div>
<div class="line">            entity_type=&quot;world&quot;</div>
<div class="line">            filename=&quot;gz-sim-sensors-system&quot;</div>
<div class="line">            name=&quot;gz::sim::systems::Sensors&quot;&gt;</div>
<div class="line">      &lt;render_engine&gt;ogre&lt;/render_engine&gt;</div>
<div class="line">    &lt;/plugin&gt;</div>
<div class="line">  &lt;/plugins&gt;</div>
<div class="line">&lt;/server_config&gt;</div>
</div><!-- fragment --><p>And point the environment variable to that file:</p>
<p><code>export GZ_SIM_SERVER_CONFIG_PATH=$HOME/.gz/sim/rendering_sensors_server.config</code></p>
<p>Now when we launch the simulation again, refreshing the image display will show the camera topic, and we can see the camera data. One interesting thing to notice is that on the camera view, there's no grid and the background color is the default grey, instead of the blue color set on the GUI <code>GzScene</code> plugin.</p>
<div class="image">
<img src="camera_env.gif" alt=""/>
</div>
<h3><a class="anchor" id="order-of-execution-of-plugins"></a>
Order of Execution of Plugins</h3>
<p>The order of execution of plugins can be controlled by setting the <code>&lt;gz:system_priority&gt;</code> tag inside <code>&lt;plugin&gt;</code>. See example in examples/plugin/priority_printer_plugin and the associated README.md file to learn more. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
