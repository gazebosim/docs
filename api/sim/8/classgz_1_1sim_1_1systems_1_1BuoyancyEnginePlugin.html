<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Sim">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Sim: BuoyancyEnginePlugin Class Reference</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Sim</h1>
        <h2>API Reference</h2>
        <div class="version">
        8.6.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.1 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegz.html">gz</a></li><li class="navelem"><a class="el" href="namespacegz_1_1sim.html">sim</a></li><li class="navelem"><a class="el" href="namespacegz_1_1sim_1_1systems.html">systems</a></li><li class="navelem"><a class="el" href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html">BuoyancyEnginePlugin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">BuoyancyEnginePlugin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provides a simple mechanical bladder which is used to control the buoyancy of an underwater glider. It uses Archimedes' principle to apply an upward force based on the volume of the bladder. It listens to the topic <code>buoyancy_engine</code> or <code>/model/{namespace}/buoyancy_engine</code> topic for the volume of the bladder in <em>cubicmeters</em>.  
 <a href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BuoyancyEngine_8hh_source.html">BuoyancyEngine.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71e5e2d5f0a15168023098f946e3d81e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html#a71e5e2d5f0a15168023098f946e3d81e">BuoyancyEnginePlugin</a> ()</td></tr>
<tr class="memdesc:a71e5e2d5f0a15168023098f946e3d81e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html#a71e5e2d5f0a15168023098f946e3d81e">More...</a><br /></td></tr>
<tr class="separator:a71e5e2d5f0a15168023098f946e3d81e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b1d7c37d4f74fb882972658ff2deb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html#a66b1d7c37d4f74fb882972658ff2deb8">Configure</a> (const <a class="el" href="namespacegz_1_1sim.html#ad83694d867b0e3a9446b535b5dfd208d">Entity</a> &amp;_entity, const <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt; const sdf::Element &gt; &amp;_sdf, <a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;_ecm, <a class="el" href="classgz_1_1sim_1_1EventManager.html">EventManager</a> &amp;)</td></tr>
<tr class="memdesc:a66b1d7c37d4f74fb882972658ff2deb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the system.  <a href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html#a66b1d7c37d4f74fb882972658ff2deb8">More...</a><br /></td></tr>
<tr class="separator:a66b1d7c37d4f74fb882972658ff2deb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a074d3e8c0071e5795fe5a3e2f3216993"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html#a074d3e8c0071e5795fe5a3e2f3216993">PreUpdate</a> (const <a class="el" href="structgz_1_1sim_1_1UpdateInfo.html">UpdateInfo</a> &amp;_info, <a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;_ecm)</td></tr>
<tr class="separator:a074d3e8c0071e5795fe5a3e2f3216993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgz_1_1sim_1_1System"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgz_1_1sim_1_1System')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgz_1_1sim_1_1System.html">System</a></td></tr>
<tr class="memitem:aad5da93cf8921039ac524abb10ad4254 inherit pub_methods_classgz_1_1sim_1_1System"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1System.html#aad5da93cf8921039ac524abb10ad4254">System</a> ()=default</td></tr>
<tr class="memdesc:aad5da93cf8921039ac524abb10ad4254 inherit pub_methods_classgz_1_1sim_1_1System"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classgz_1_1sim_1_1System.html#aad5da93cf8921039ac524abb10ad4254">More...</a><br /></td></tr>
<tr class="separator:aad5da93cf8921039ac524abb10ad4254 inherit pub_methods_classgz_1_1sim_1_1System"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d73261228a8127f188edb3aa46fc21 inherit pub_methods_classgz_1_1sim_1_1System"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgz_1_1sim_1_1System.html#a75d73261228a8127f188edb3aa46fc21">~System</a> ()=default</td></tr>
<tr class="memdesc:a75d73261228a8127f188edb3aa46fc21 inherit pub_methods_classgz_1_1sim_1_1System"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classgz_1_1sim_1_1System.html#a75d73261228a8127f188edb3aa46fc21">More...</a><br /></td></tr>
<tr class="separator:a75d73261228a8127f188edb3aa46fc21 inherit pub_methods_classgz_1_1sim_1_1System"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides a simple mechanical bladder which is used to control the buoyancy of an underwater glider. It uses Archimedes' principle to apply an upward force based on the volume of the bladder. It listens to the topic <code>buoyancy_engine</code> or <code>/model/{namespace}/buoyancy_engine</code> topic for the volume of the bladder in <em>cubicmeters</em>. </p>
<h2><a class="anchor" id="autotoc_md432"></a>
System Parameters</h2>
<ul>
<li><code>&lt;link_name&gt;</code>: The link which the plugin is attached to [required, string]</li>
<li><code>&lt;namespace&gt;</code>: The namespace for the topic. If empty the plugin will listen on <code>buoyancy_engine</code> otherwise it listens on <code>/model/{namespace}/buoyancy_engine</code> [optional, string]</li>
<li><code>&lt;min_volume&gt;</code>: Minimum volume of the engine [optional, float, default=0.00003m^3]</li>
<li><code>&lt;neutral_volume&gt;</code>: At this volume the engine has neutral buoyancy. Used to estimate the weight of the engine [optional, float, default=0.0003m^3]</li>
<li><code>&lt;default_volume&gt;</code>: The volume which the engine starts at [optional, float, default=0.0003m^3]</li>
<li><code>&lt;max_volume&gt;</code>: Maximum volume of the engine [optional, float, default=0.00099m^3]</li>
<li><code>&lt;max_inflation_rate&gt;</code>: Maximum inflation rate for bladder [optional, float, default=0.000003m^3/s]</li>
<li><code>&lt;fluid_density&gt;</code>: The fluid density of the liquid its suspended in kgm^-3. [optional, float, default=1000kgm^-3]</li>
<li><code>&lt;surface&gt;</code>: The Z height in metres at which the surface of the water is. If not defined then there is no surface [optional, float]</li>
</ul>
<h2><a class="anchor" id="autotoc_md433"></a>
Topics</h2>
<ul>
<li>Subscribes to a gz::msgs::Double on <code>buoyancy_engine</code> or <code>/model/{namespace}/buoyancy_engine</code>. This is the set point for the engine.</li>
<li>Publishes a gz::msgs::Double on <code>buoyancy_engine</code> or <code>/model/{namespace}/buoyancy_engine/current_volume</code> on the current volume</li>
</ul>
<h2><a class="anchor" id="autotoc_md434"></a>
Examples</h2>
<p>To get started run: </p><div class="fragment"><div class="line"><a class="code" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> sim buoyancy_engine.sdf</div>
</div><!-- fragment --><p> Enter the following in a separate terminal: </p><div class="fragment"><div class="line"><a class="code" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> topic -t /model/buoyant_box/buoyancy_engine/ -m <a class="code" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a>.<a class="code" href="namespacegz_1_1msgs.html">msgs</a>.Double \</div>
<div class="line">   -p <span class="stringliteral">&quot;data: 0.003&quot;</span></div>
</div><!-- fragment --><p> to see the box float up. </p><div class="fragment"><div class="line"><a class="code" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> topic -t /model/buoyant_box/buoyancy_engine/ -m <a class="code" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a>.<a class="code" href="namespacegz_1_1msgs.html">msgs</a>.Double \</div>
<div class="line">   -p <span class="stringliteral">&quot;data: 0.001&quot;</span></div>
</div><!-- fragment --><p> to see the box go down.</p>
<p>To see the current volume enter: </p><div class="fragment"><div class="line"><a class="code" href="namespacegz.html" title="This library is part of the Gazebo project.">gz</a> topic -t /model/buoyant_box/buoyancy_engine/current_volume -e</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a71e5e2d5f0a15168023098f946e3d81e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e5e2d5f0a15168023098f946e3d81e">&#9670;&nbsp;</a></span>BuoyancyEnginePlugin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgz_1_1sim_1_1systems_1_1BuoyancyEnginePlugin.html">BuoyancyEnginePlugin</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a66b1d7c37d4f74fb882972658ff2deb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b1d7c37d4f74fb882972658ff2deb8">&#9670;&nbsp;</a></span>Configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Configure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacegz_1_1sim.html#ad83694d867b0e3a9446b535b5dfd208d">Entity</a> &amp;&#160;</td>
          <td class="paramname"><em>_entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/shared_ptr.html">std::shared_ptr</a>&lt; const sdf::Element &gt; &amp;&#160;</td>
          <td class="paramname"><em>_sdf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;&#160;</td>
          <td class="paramname"><em>_ecm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgz_1_1sim_1_1EventManager.html">EventManager</a> &amp;&#160;</td>
          <td class="paramname"><em>_eventMgr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_entity</td><td>The entity this plugin is attached to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_sdf</td><td>The SDF Element associated with this system plugin. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_ecm</td><td>The <a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html" title="The EntityComponentManager constructs, deletes, and returns components and entities....">EntityComponentManager</a> of the given simulation instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">_eventMgr</td><td>The <a class="el" href="classgz_1_1sim_1_1EventManager.html" title="The EventManager is used to send/receive notifications of simulator events.">EventManager</a> of the given simulation instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgz_1_1sim_1_1ISystemConfigure.html#ac5fc9ce04c3166a5322016b5f2d303e0">ISystemConfigure</a>.</p>

</div>
</div>
<a id="a074d3e8c0071e5795fe5a3e2f3216993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a074d3e8c0071e5795fe5a3e2f3216993">&#9670;&nbsp;</a></span>PreUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PreUpdate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgz_1_1sim_1_1UpdateInfo.html">UpdateInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgz_1_1sim_1_1EntityComponentManager.html">EntityComponentManager</a> &amp;&#160;</td>
          <td class="paramname"><em>_ecm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classgz_1_1sim_1_1ISystemPreUpdate.html#a760b8673aaf01408786c9ececb8ba520">ISystemPreUpdate</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="BuoyancyEngine_8hh_source.html">BuoyancyEngine.hh</a></li>
</ul>
</div><!-- contents -->
      </div>
    </main>
  </div>
</body>
