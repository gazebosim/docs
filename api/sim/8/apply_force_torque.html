<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Sim">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Sim: Apply Force and Torque</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Sim</h1>
        <h2>API Reference</h2>
        <div class="version">
        8.6.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Apply Force and Torque </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Apply Force Torque plugin allows users to apply forces and/or torques to links in the simulation through the graphical user interface.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Examples</h2>
<p>Let's go through an example of applying force and torque to simple models. Open the <code>shapes.sdf</code> world with</p>
<div class="fragment"><div class="line">gz sim shapes.sdf</div>
</div><!-- fragment --><p>From the plugin dropdown, select the <code>Apply Force Torque</code> plugin. Make sure the simulation isn't paused.</p>
<div class="image">
<img src="Interface.png" alt="" width="60%"/>
</div>
<h3><a class="anchor" id="autotoc_md12"></a>
Apply force to a link</h3>
<p>We want to apply force to the <code>cylinder</code> model. Select the model, either by clicking on it in the scene or through the Entity Tree. If the model had multiple links, we could select through the interface which one to apply the force to (in this case, <code>cylinder_link</code>).</p>
<p>On the dialog, write <code>10000</code> on the <code>X</code> field under <code>Force</code> and click on <code>Apply Force</code>. The cylinder will be pushed on the X direction. The force was applied in the link's <code>X</code> direction for a single time-step, which is in the order of milliseconds, thus the need for such a large force.</p>
<div class="image">
<img src="Force.png" alt="" width="60%"/>
</div>
<h3><a class="anchor" id="autotoc_md13"></a>
Apply torque to a link</h3>
<p>On the dialog, write <code>2000</code> on the <code>X</code> field under <code>Torque</code> and click on <code>Apply Torque</code> to see the cylinder rotate slightly.</p>
<div class="image">
<img src="Torque.png" alt="" width="60%"/>
</div>
<h3><a class="anchor" id="autotoc_md14"></a>
Apply force with an offset</h3>
<p>By default, the force is applied to the link's center of mass, but this can be modified through the <code>Offset</code> fields. On the dialog, write <code>1000</code> on the <code>X</code> field under <code>Force</code> and <code>1</code> under the <code>Z</code> field under <code>Offset</code>. Press <code>Apply Force</code> to see the model move slightly in the <code>X</code> direction while also rotating around the <code>Y</code> direction.</p>
<div class="image">
<img src="ForceOffset.png" alt="" width="60%"/>
</div>
<h3><a class="anchor" id="autotoc_md15"></a>
Rotation tool</h3>
<p>On the dialog, write <code>10000</code> on the <code>X</code> field under <code>Force</code>. Click on the force vector to make the rotation tool appear. Drag the blue circle to rotate the force around the <code>Z</code> axis so that it is aligned with the <code>Y</code> direction. Notice how the XYZ fields changed, but not the magnitude. Press <code>Apply Force</code> to see the model move in the <code>Y</code> direction.</p>
<div class="image">
<img src="RotationTool.png" alt="" width="60%"/>
</div>
<h2><a class="anchor" id="autotoc_md16"></a>
The interface explained</h2>
<blockquote class="doxtable">
<p><b>Note</b>: If you apply force and/or torque while the simulation is paused, </p>
</blockquote>
<p>they will accumulate and be applied all at once when the simulation is unpaused.</p>
<h3><a class="anchor" id="autotoc_md17"></a>
Force</h3>
<ul>
<li><b>Force X, Y, Z</b>: Each field specifies how much force will be applied on that direction, in Newtons (N). The frame is fixed to the link.</li>
<li><b>Mag</b>: The total magnitude of the force which will be applied, which is the Euclidean norm of the 3 forces above. Changing the magnitude changes the XYZ fields proportionally, maintaining the force direction.</li>
<li><b>Offset X, Y, Z</b>: By default, force is applied to the link's center of mass, in meters. Here you can edit the X, Y and Z fields to give the force an offset with respect to the center of mass expressed in the link's frame.<ul>
<li><b>Tip</b>: Right-click the model and choose <code>View</code> -&gt; <code>Center of Mass</code> to see its position. You will want to also make the model transparent to see the center of mass visual (<code>View</code> -&gt; <code>Transparent</code>).</li>
</ul>
</li>
<li><b>Apply Force</b>: Click this to apply only force for one time step. Keep in mind that time steps are typically in the order of milliseconds, so relatively large forces are needed in order to apply a significant impulse.</li>
</ul>
<h3><a class="anchor" id="autotoc_md18"></a>
Torque</h3>
<ul>
<li><b>X, Y, Z</b>: Each field specifies how much torque will be applied about that axis, in Newton-meters (N.m). The frame is fixed to the link.</li>
<li><b>Mag</b>: The total magnitude of the torque which will be applied, which is the Euclidean norm of the 3 torques above. Changing the magnitude changes the XYZ fields proportionally, maintaining the torque direction.</li>
<li><b>Apply Torque</b>: Click this to apply only torque for one time step. Keep in mind that time steps are typically in the order of milliseconds, so relatively large torques are needed in order to apply a significant angular impulse.<ul>
<li><b>Note</b>: Torque is always applied about the center of mass.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md19"></a>
Apply All</h3>
<p>Force and torque are applied at the same time, i.e. apply a wrench.</p>
<h3><a class="anchor" id="autotoc_md20"></a>
Rotation Tool</h3>
<p>The vector (force or torque) directions will always match the directions specified in the dialog. From the dialog, the direction can be changed by editing the numbers on the XYZ fields.</p>
<p>From the scene, select a vector to enable the rotation tool, then drag the handles. This changes the direction of the vector, updating the XYZ fields accordingly without modifying its magnitude. You may click again on the vector to unselect the rotation tool. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
