<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Plugin">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Plugin: Register.hh File Reference</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Plugin</h1>
        <h2>API Reference</h2>
        <div class="version">
        4.0.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c81f51abf9b0b5a47861982a2c7dd675.html">gz-plugin</a></li><li class="navelem"><a class="el" href="dir_420d88f3b4dc30b08fddbcd0273fc719.html">register</a></li><li class="navelem"><a class="el" href="dir_0679fd62d9476943857e52dc3325f248.html">include</a></li><li class="navelem"><a class="el" href="dir_5efe612ed91cd26d184d83a8ad99229e.html">gz</a></li><li class="navelem"><a class="el" href="dir_218fb463d3d24dcbbee1ac98849de9df.html">plugin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">Register.hh File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;gz/plugin/detail/Register.hh&gt;</code><br />
</div>
<p><a href="Register_8hh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af6e46f25cabe57588b93558f50a793c5" id="r_af6e46f25cabe57588b93558f50a793c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Register_8hh.html#af6e46f25cabe57588b93558f50a793c5">GZ_ADD_FACTORY</a>(ProductType,  FactoryType)&#160;&#160;&#160;  DETAIL_GZ_ADD_FACTORY(ProductType, FactoryType)</td></tr>
<tr class="memdesc:af6e46f25cabe57588b93558f50a793c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a plugin factory.  <br /></td></tr>
<tr class="separator:af6e46f25cabe57588b93558f50a793c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ce16281b06aadb08927d1a8130ccd4" id="r_a08ce16281b06aadb08927d1a8130ccd4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Register_8hh.html#a08ce16281b06aadb08927d1a8130ccd4">GZ_ADD_FACTORY_ALIAS</a>(ProductType,  FactoryType, ...)&#160;&#160;&#160;  DETAIL_GZ_ADD_FACTORY_ALIAS(ProductType, FactoryType, __VA_ARGS__)</td></tr>
<tr class="memdesc:a08ce16281b06aadb08927d1a8130ccd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an alias for a factory.  <br /></td></tr>
<tr class="separator:a08ce16281b06aadb08927d1a8130ccd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80cacf59ebf9a4726bb47860ff177542" id="r_a80cacf59ebf9a4726bb47860ff177542"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Register_8hh.html#a80cacf59ebf9a4726bb47860ff177542">GZ_ADD_PLUGIN</a>(PluginClass, ...)&#160;&#160;&#160;  DETAIL_GZ_ADD_PLUGIN(PluginClass, __VA_ARGS__)</td></tr>
<tr class="memdesc:a80cacf59ebf9a4726bb47860ff177542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a plugin and interface from this shared library.  <br /></td></tr>
<tr class="separator:a80cacf59ebf9a4726bb47860ff177542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899a1e669cb535c9fe01012cff323b49" id="r_a899a1e669cb535c9fe01012cff323b49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Register_8hh.html#a899a1e669cb535c9fe01012cff323b49">GZ_ADD_PLUGIN_ALIAS</a>(PluginClass, ...)&#160;&#160;&#160;  DETAIL_GZ_ADD_PLUGIN_ALIAS(PluginClass, __VA_ARGS__)</td></tr>
<tr class="memdesc:a899a1e669cb535c9fe01012cff323b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an alias for one of your plugins.  <br /></td></tr>
<tr class="separator:a899a1e669cb535c9fe01012cff323b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af6e46f25cabe57588b93558f50a793c5" name="af6e46f25cabe57588b93558f50a793c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6e46f25cabe57588b93558f50a793c5">&#9670;&#160;</a></span>GZ_ADD_FACTORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GZ_ADD_FACTORY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ProductType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FactoryType&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;  DETAIL_GZ_ADD_FACTORY(ProductType, FactoryType)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a plugin factory. </p>
<p>A plugin factory is a plugin that is able to generate objects that implement some interface. These objects can be passed off to a consumer, and as long as the object is alive, it will ensure that the shared library of the plugin remains loaded. The objects are handed off with a <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a>, so the raw pointer can be released from its <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a> and passed into any memory management system the consumer prefers.</p>
<p>The inputs and output of a factory are defined using the Factory class in the <a class="el" href="Factory_8hh.html">gz/plugin/Factory.hh</a> header.</p>
<p>The first argument of this macro should be the class that implements the factory's output interface. The second argument should be the factory definition.</p>
<p>NOTE: If your factory has any input arguments, then you must define it outside of this macro, or else you will get a compilation error. This happens because macros will parse the commas between your template arguments as separators for the macro arguments. For example:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyBase</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>: <span class="keyword">virtual</span> <span class="keywordtype">double</span> SomeFunction() = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MyType : <span class="keyword">public</span> MyBase</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>: MyType(<span class="keywordtype">double</span> value);</div>
<div class="line">  <span class="keyword">public</span>: <span class="keywordtype">double</span> SomeFunction() <span class="keyword">override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* BAD! Will not compile:</span></div>
<div class="line"><span class="comment">GZ_ADD_FACTORY(MyType, Factory&lt;MyBase, double&gt;);</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instead do this:</span></div>
<div class="line"><span class="keyword">using </span>MyFactory = Factory&lt;MyBase, double&gt;;</div>
<div class="line"><a class="code hl_define" href="Register_8hh.html#af6e46f25cabe57588b93558f50a793c5" title="Add a plugin factory.">GZ_ADD_FACTORY</a>(MyType, MyFactory);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a08ce16281b06aadb08927d1a8130ccd4" name="a08ce16281b06aadb08927d1a8130ccd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ce16281b06aadb08927d1a8130ccd4">&#9670;&#160;</a></span>GZ_ADD_FACTORY_ALIAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GZ_ADD_FACTORY_ALIAS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ProductType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FactoryType, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;  DETAIL_GZ_ADD_FACTORY_ALIAS(ProductType, FactoryType, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an alias for a factory. </p>
<p>This will do the same as <a class="el" href="Register_8hh.html#af6e46f25cabe57588b93558f50a793c5" title="Add a plugin factory.">GZ_ADD_FACTORY()</a>, but you may also add in any number of strings which can then be used as aliases for this factory. For example:</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="Register_8hh.html#a08ce16281b06aadb08927d1a8130ccd4" title="Add an alias for a factory.">GZ_ADD_FACTORY_ALIAS</a>(MyType, MyFactory, <span class="stringliteral">&quot;Foo&quot;</span>, <span class="stringliteral">&quot;My favorite factory&quot;</span>)</div>
</div><!-- fragment --><p>This macro can be called any number of times for the same factory or for different factories. If you call this macro, you do not need to call <a class="el" href="Register_8hh.html#af6e46f25cabe57588b93558f50a793c5" title="Add a plugin factory.">GZ_ADD_FACTORY()</a>, but there is nothing wrong with calling both (except it might imperceptibly increase your compile time). </p>

</div>
</div>
<a id="a80cacf59ebf9a4726bb47860ff177542" name="a80cacf59ebf9a4726bb47860ff177542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80cacf59ebf9a4726bb47860ff177542">&#9670;&#160;</a></span>GZ_ADD_PLUGIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GZ_ADD_PLUGIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PluginClass, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;  DETAIL_GZ_ADD_PLUGIN(PluginClass, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a plugin and interface from this shared library. </p>
<p>This macro can be put in any namespace and may be called any number of times. It can be called multiple times on the same plugin class in order to register multiple interfaces, e.g.:</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="Register_8hh.html#a80cacf59ebf9a4726bb47860ff177542" title="Add a plugin and interface from this shared library.">GZ_ADD_PLUGIN</a>(PluginClass, Interface1)</div>
<div class="line"><a class="code hl_define" href="Register_8hh.html#a80cacf59ebf9a4726bb47860ff177542" title="Add a plugin and interface from this shared library.">GZ_ADD_PLUGIN</a>(PluginClass, Interface2)</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Some other code */</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="Register_8hh.html#a80cacf59ebf9a4726bb47860ff177542" title="Add a plugin and interface from this shared library.">GZ_ADD_PLUGIN</a>(PluginClass, Interface3)</div>
</div><!-- fragment --><p>Or you can list multiple interfaces in a single call to the macro, e.g.:</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="Register_8hh.html#a80cacf59ebf9a4726bb47860ff177542" title="Add a plugin and interface from this shared library.">GZ_ADD_PLUGIN</a>(PluginClass, Interface1, Interface2, Interface3)</div>
</div><!-- fragment --><p>If your library has multiple translation units (.cpp files) and you want to register plugins in multiple translation units, use this <a class="el" href="Register_8hh.html">gz/plugin/Register.hh</a> header in ONE of the translation units, and then the <a class="el" href="RegisterMore_8hh.html">gz/plugin/RegisterMore.hh</a> header in all of the rest of the translation units. </p>

</div>
</div>
<a id="a899a1e669cb535c9fe01012cff323b49" name="a899a1e669cb535c9fe01012cff323b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a899a1e669cb535c9fe01012cff323b49">&#9670;&#160;</a></span>GZ_ADD_PLUGIN_ALIAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GZ_ADD_PLUGIN_ALIAS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PluginClass, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;  DETAIL_GZ_ADD_PLUGIN_ALIAS(PluginClass, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an alias for one of your plugins. </p>
<p>This macro can be put in any namespace and may be called any number of times. It can be called multiple times on the same plugin class in order to register multiple aliases, e.g.:</p>
<div class="fragment"><div class="line"><a class="code hl_define" href="Register_8hh.html#a899a1e669cb535c9fe01012cff323b49" title="Add an alias for one of your plugins.">GZ_ADD_PLUGIN_ALIAS</a>(PluginClass, <span class="stringliteral">&quot;PluginClass&quot;</span>)</div>
<div class="line"><a class="code hl_define" href="Register_8hh.html#a899a1e669cb535c9fe01012cff323b49" title="Add an alias for one of your plugins.">GZ_ADD_PLUGIN_ALIAS</a>(PluginClass, &quot;SomeOtherName&quot;, &quot;Yet another name&quot;)</div>
<div class="line"><a class="code hl_define" href="Register_8hh.html#a899a1e669cb535c9fe01012cff323b49" title="Add an alias for one of your plugins.">GZ_ADD_PLUGIN_ALIAS</a>(AnotherPluginClass, &quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;)</div>
</div><!-- fragment --><p>You can give the same alias to multiple plugins, but then that alias can no longer be used to instantiate any plugin.</p>
<p>If you give a plugin an alias string that matches the demangled symbol name of another plugin, then the Loader will always prefer to instantiate the plugin whose symbol name matches that string. </p>

</div>
</div>
</div><!-- contents -->
      </div>
    </main>
  </div>
</body>
