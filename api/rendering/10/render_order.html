<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Rendering">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Rendering: Render order</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Rendering</h1>
        <h2>API Reference</h2>
        <div class="version">
        10.0.0~pre2
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Render order</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example shows how to set the render order for coplanar polygons.</p>
<p>The material API allows changing the render order. When polygons are coplanar, you can get problems with <code>depth fighting</code> (also known as z fighting) where the pixels from the two polys compete for the same screen pixel. As you can see in the following image:</p>
<div class="image">
<img src="render_order_bad.png" alt=""/>
</div>
<p>The method <code>SetRenderOrder</code> in the Material class allows you to avoid this issue. The higher value will be rendered on top of other coplanar polygons. This method will set the depth bias value of objects that the material is assigned to.</p>
<p>In the <code>simple_demo</code> example you can find two materials with different render orders. The red material (<code>SetRenderOrder(3)</code>) has a higher value than the white material (<code>SetRenderOrder(3)</code>).</p>
<div class="fragment"><div class="line">  <span class="comment">// create red material</span></div>
<div class="line">  MaterialPtr red = _scene-&gt;CreateMaterial();</div>
<div class="line">  red-&gt;SetAmbient(0.5, 0.0, 0.0);</div>
<div class="line">  red-&gt;SetDiffuse(1.0, 0.0, 0.0);</div>
<div class="line">  red-&gt;SetSpecular(0.5, 0.5, 0.5);</div>
<div class="line">  red-&gt;SetShininess(50);</div>
<div class="line">  red-&gt;SetReflectivity(0);</div>
<div class="line">  red-&gt;SetRenderOrder(3);</div>
</div><!-- fragment --><div class="fragment"><div class="line">  <span class="comment">// create white material</span></div>
<div class="line">  MaterialPtr white = _scene-&gt;CreateMaterial();</div>
<div class="line">  white-&gt;SetAmbient(0.5, 0.5, 0.5);</div>
<div class="line">  white-&gt;SetDiffuse(0.8, 0.8, 0.8);</div>
<div class="line">  white-&gt;SetReceiveShadows(<span class="keyword">true</span>);</div>
<div class="line">  white-&gt;SetReflectivity(0);</div>
<div class="line">  white-&gt;SetRenderOrder(0);</div>
</div><!-- fragment --><p>As you can see in the following image the depth fighting issue is resolved.</p>
<div class="image">
<img src="render_order_good.png" alt=""/>
</div>
<p>You can set this in your SDF file including in the material tag a new tag called <code>render_order</code> with a float value:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">material</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">render_order</span>&gt;5&lt;/<span class="keywordtype">render_order</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">ambient</span>&gt;0 0 1 1&lt;/<span class="keywordtype">ambient</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">diffuse</span>&gt;0 0 1 1&lt;/<span class="keywordtype">diffuse</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">specular</span>&gt;0 0 1 1&lt;/<span class="keywordtype">specular</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">material</span>&gt;</div>
</div><!-- fragment --><p>Clone the source code, create a build directory and use <code>cmake</code> and <code>make</code> to compile the code:</p>
<div class="fragment"><div class="line">git clone https://github.com/gazebosim/gz-rendering</div>
<div class="line">cd gz-rendering/examples/simple_demo</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --><p>Execute the example:</p>
<div class="fragment"><div class="line"># Linux (defaults to using ogre1)</div>
<div class="line">./simple_demo</div>
<div class="line"> </div>
<div class="line"># macOS (ogre1 is not supported on macOS, but ogre2 is)</div>
<div class="line">./simple_demo ogre2</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
