<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Rendering">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Rendering: Understanding the Rendering Plugin</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Rendering</h1>
        <h2>API Reference</h2>
        <div class="version">
        10.0.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Understanding the Rendering Plugin</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is an introduction to different rendering engines and how they are integrated into the Gazebo Rendering library.</p>
<h2><a class="anchor" id="gazebo-rendering-1"></a>
Gazebo Rendering</h2>
<p>The <a class="el" href="namespacegz_1_1rendering.html">Gazebo Rendering</a> library integrates external rendering engines into the Gazebo Simulation eco-system. It allows users to select from multiple supported rendering engines based on their simulation needs. Its plugin interface loads rendering engines at runtime. It is also possible to integrate your own selected rendering engine by writing a compatible plugin interface.</p>
<h3><a class="anchor" id="how-to-write-your-own-rendering-engine-plugin"></a>
How to Write Your Own Rendering Engine Plugin</h3>
<p>A mocked example of a custom rendering engine plugin can be found <a href="https://github.com/gazebosim/gz-rendering/tree/gz-rendering10/examples/hello_world_plugin">here</a>. In order to make your own custom rendering engine, this example is a good starting point. There are a few key things which will need to be done in order for a custom rendering engine to function:</p>
<ul>
<li>A singleton Render Engine class which implements the pure virtual functions in <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/include/gz/rendering/base/BaseRenderEngine.hh"><code>gz::rendering::BaseRenderEngine</code></a>.</li>
<li>A plugin class which implements the pure virtual functions in <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/include/gz/rendering/RenderEnginePlugin.hh"><code>gz::rendering::RenderEnginePlugin</code></a></li>
<li>Registering the plugin, this line can be seen at the bottom of the <a href="https://github.com/gazebosim/gz-rendering/tree/gz-rendering10/examples/hello_world_plugin/HelloWorldPlugin.cc"><code>HelloWorldPlugin</code></a> example</li>
</ul>
<p>Finally, for your custom rendering engine to actually have any functionality and at minimum, display something in a window, you will need to implement your own <code>Scene</code> and <code>Camera</code> classes, which inherit from and implement the pure virtual functions of <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/include/gz/rendering/Scene.hh"><code>gz::rendering::Scene</code></a> and <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/include/gz/rendering/Camera.hh"><code>gz::rendering::Camera</code></a>, respectively. The mocked example simply returns <code>nullptr</code> for its <code>CreateSceneImpl(...)</code> function, so it may be useful to look at the current <code>Scene</code> implementations for the other rendering engines within <code><a class="el" href="namespacegz_1_1rendering.html" title="Rendering classes and function useful in robot applications.">gz::rendering</a></code> such as <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/ogre/src/OgreScene.cc"><code>OGRE</code></a> or <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/ogre2/src/Ogre2Scene.cc"><code>OGRE2</code></a>. Likewise, it may be helpful to look at the <code>Camera</code> implementations from <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/ogre/src/OgreCamera.cc"><code>OGRE</code></a> and <a href="https://github.com/gazebosim/gz-rendering/blob/gz-rendering10/ogre2/src/Ogre2Camera.cc"><code>OGRE2</code></a></p>
<h3><a class="anchor" id="building-and-running-your-rendering-engine-plugin-with-gazebo"></a>
Building and Running Your Rendering Engine Plugin with Gazebo</h3>
<p>Once you have your own rendering plugin written, you can build it similarly to how the example is built. It may be helpful to look at the <a href="https://github.com/gazebosim/gz-rendering/tree/gz-rendering10/examples/hello_world_plugin"><code>CMakeLists.txt</code></a> from the example as it contains the boilerplate code needed to get a custom rendering engine plugin built.</p>
<p>After you have your plugin built, you will need to set the <code>GZ_SIM_RENDER_ENGINE_PATH</code> environment variable to the path in which your built shared library resides. Note that you will need to do this for every command line instance unless you add the line to your startup shell script (<code>.bashrc</code>, <code>.zshrc</code>, etc.).</p>
<p>From here, you should be able to reference your rendering plugin within Gazebo by the name of the generated shared library file (without the <code>lib</code> prefix or the file extension, i.e., libHelloWorldPlugin.so -&gt; HelloWorldPlugin).</p>
<dl class="section note"><dt>Note</dt><dd>You can use the <code>--render-engine</code>, <code>--render-engine-server</code>, and <code>--render-engine-gui</code> flags to specify any supported or custom rendering engine at runtime, this flag will override any other pre-existing rendering engine specifications (such as in an <code>.sdf</code> file). The command line call would look something like:</dd></dl>
<div class="fragment"><div class="line">gz sim --render-engine HelloWorldPlugin shapes.sdf</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
