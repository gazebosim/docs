<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Rendering">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Rendering: Particles</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Rendering</h1>
        <h2>API Reference</h2>
        <div class="version">
        9.4.0
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Particles</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This example shows how to include a particle emitter in the scene.</p>
<h2><a class="anchor" id="compile-and-run-the-example-8"></a>
Compile and run the example</h2>
<p>Clone the source code, create a build directory and use <code>cmake</code> and <code>make</code> to compile the code:</p>
<div class="fragment"><div class="line">git clone https://github.com/gazebosim/gz-rendering</div>
<div class="line">cd gz-rendering/examples/particles_demo</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --><p> Execute the example:</p>
<div class="fragment"><div class="line">./particles_demo</div>
</div><!-- fragment --><p>You'll see:</p>
<div class="fragment"><div class="line">[Msg] Loading plugin [gz-rendering9-ogre2]</div>
<div class="line">===============================</div>
<div class="line">  TAB - Switch render engines</div>
<div class="line">  ESC - Exit</div>
<div class="line">===============================</div>
</div><!-- fragment --> <div class="image">
<img src="particles.gif" alt=""/>
</div>
<h2><a class="anchor" id="code-8"></a>
Code</h2>
<p>A particle emitter generates a stream of particles. We can create a particle emitter in the same way we create other objects in the scene. We just need to use the scene to create the emitter using the method <code>CreateParticleEmitter</code>. It's possible to configure a few attributes of the emitter and its particles:</p>
<ul>
<li>Type: <code>EM_POINT</code> emitters emit particles from a single point. <code>EM_BOX</code>, <code>EM_CYLINDER</code> and <code>EM_ELLIPSOID</code> emitters emit randomly from a box, cylinder or ellipsoid respectively.</li>
<li>Emitter size: Adjust the dimensions of the volume from which the particles are emitted.</li>
<li>Rate: Set the amount of particles per second emitted.</li>
<li>Duration: This parameter can be used to automatically disable the emitter after some time.</li>
<li>Emitting: Enable/Disable the emission of particles.</li>
<li>Particle size: Adjust the particle dimensions.</li>
<li>Lifetime: Set the amount of seconds each particles "lives" before being destroyed.</li>
<li>Material: Set the material which all particles in the emitter will use.</li>
<li>Velocity: Set a velocity range and each particle is emitted with a random velocity within this range.</li>
<li>Color range: Set the color for all particles emitted. You have two options to set the color.<ul>
<li>Using two color values: The actual color is interpolated between these two colors along the lifetime of the particle.</li>
<li>Using an image: The colors are taken from a specified image file. The range of color values begins from the left side of the image and move to the right over the lifetime of the particle, therefore only the horizontal dimension of the image is used.</li>
</ul>
</li>
<li>Scale rate: Adjust the amount by which to scale the particles in both <code>X</code> and <code>Y</code> direction per second.</li>
</ul>
<p>Here's the snippet of code from <code>examples/particles_demo/Main.cc</code> that includes a particle emitter to render particles to look like smoke:</p>
<div class="fragment"><div class="line">  ParticleEmitterPtr emitter = _scene-&gt;CreateParticleEmitter();</div>
<div class="line">  emitter-&gt;SetType(EM_POINT);</div>
<div class="line">  emitter-&gt;SetLocalPose({2, 1.10, 1.25, 1.5708, 0, 2.3});</div>
<div class="line">  emitter-&gt;SetRate(10);</div>
<div class="line">  emitter-&gt;SetParticleSize({1, 1, 1});</div>
<div class="line">  emitter-&gt;SetLifetime(2);</div>
<div class="line">  emitter-&gt;SetVelocityRange(10, 20);</div>
<div class="line">  emitter-&gt;SetMaterial(particleMaterial);</div>
<div class="line">  emitter-&gt;SetColorRangeImage(RESOURCE_PATH + <span class="stringliteral">&quot;/smokecolors.png&quot;</span>);</div>
<div class="line">  emitter-&gt;SetScaleRate(10);</div>
<div class="line">  emitter-&gt;SetEmitting(<span class="keyword">true</span>);</div>
<div class="line">  root-&gt;AddChild(emitter);</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
