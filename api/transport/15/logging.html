<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Transport">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Transport: Logging</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Transport</h1>
        <h2>API Reference</h2>
        <div class="version">
        15.0.0~pre2
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Logging</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Next Tutorial: <a class="el" href="envvars.html">Environment Variables</a> Previous Tutorial: <a class="el" href="relay.html">Relay</a></p>
<h2><a class="anchor" id="overview-6"></a>
Overview</h2>
<p>In this tutorial, we are going to describe the process of recording and playing back a collection of messages.</p>
<p>Gazebo Transport provides two mechanisms for logging: a C++ API and a set of command line utilities as part of the optional <code>gz</code> CLI tool (available via <a href="https://github.com/gazebosim/gz-tools">Gazebo Tools</a>). We use <a href="https://www.sqlite.org">SQLite3</a> to create a file containing all the messages recorded during a session. You can imagine it as a container where all the original messages have been efficiently stored and timestamped.</p>
<p>Let's create a directory for compiling and running our examples:</p>
<div class="fragment"><div class="line">mkdir ~/gz_transport_tutorial</div>
<div class="line">cd ~/gz_transport_tutorial</div>
</div><!-- fragment --><h2><a class="anchor" id="record"></a>
Record</h2>
<p>Download the <a href="https://github.com/gazebosim/gz-transport/raw/main/example/record.cc">record.cc</a> file within the <code>gz_transport_tutorial</code> folder and open it with your favorite editor:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;regex&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Node_8hh.html">gz/transport/Node.hh</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Recorder_8hh.html">gz/transport/log/Recorder.hh</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> (argc != 2)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; argv[0] &lt;&lt; <span class="stringliteral">&quot; OUTPUT.tlog\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  gz::transport::log::Recorder recorder;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Record all topics</span></div>
<div class="line">  <span class="keyword">const</span> int64_t addTopicResult = recorder.AddTopic(<a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/regex/basic_regex.html">std::regex</a>(<span class="stringliteral">&quot;.*&quot;</span>));</div>
<div class="line">  <span class="keywordflow">if</span> (addTopicResult &lt; 0)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;An error occurred when trying to add topics: &quot;</span></div>
<div class="line">              &lt;&lt; addTopicResult &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Begin recording, saving received messages to the given file</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span> result = recorder.Start(argv[1]);</div>
<div class="line">  <span class="keywordflow">if</span> (gz::transport::log::RecorderError::SUCCESS != result)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Failed to start recording: &quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(result)</div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> -2;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Press Ctrl+C to finish recording.\n  Recording... &quot;</span></div>
<div class="line">            &lt;&lt; <a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Wait until the interrupt signal is sent.</span></div>
<div class="line">  <a class="code hl_function" href="namespacegz_1_1transport.html#a5ce095f75195272da1dee933c773a4f7" title="Block the current thread until a SIGINT or SIGTERM is received. Note that this function registers a s...">gz::transport::waitForShutdown</a>();</div>
<div class="line"> </div>
<div class="line">  recorder.Stop();</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;\nRecording finished!&quot;</span> &lt;&lt; <a class="code hl_functionRef" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="walkthrough-18"></a>
Walkthrough</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Recorder_8hh.html">gz/transport/log/Recorder.hh</a>&gt;</span></div>
</div><!-- fragment --><p>The <code><a class="el" href="Recorder_8hh.html">Recorder.hh</a></code> header contains all the recording functionality. Make sure that is included in your source code.</p>
<div class="fragment"><div class="line">gz::transport::log::Recorder recorder;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Record all topics</span></div>
<div class="line"><span class="keyword">const</span> int64_t addTopicResult = recorder.AddTopic(<a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/regex/basic_regex.html">std::regex</a>(<span class="stringliteral">&quot;.*&quot;</span>));</div>
<div class="line"><span class="keywordflow">if</span> (addTopicResult &lt; 0)</div>
<div class="line">{</div>
<div class="line">  <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;An error occurred when trying to add topics: &quot;</span></div>
<div class="line">            &lt;&lt; addTopicResult &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">  <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The next step requires instantiation of a <code><a class="el" href="classlog_1_1Recorder.html" title="Records Gazebo Transport topics This class makes it easy to record topics to a log file....">log::Recorder</a></code> object and specification of the topics that we're interested in logging. The <code>AddTopic()</code> function accepts a regular expression to set the appropriate topic filter. In our example, we are recording all topics.</p>
<div class="fragment"><div class="line"><span class="comment">// Begin recording, saving received messages to the given file</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> result = recorder.Start(argv[1]);</div>
</div><!-- fragment --><p>The <code>Start()</code> method starts recording messages. Note that the function accepts a parameter with the name of the log file.</p>
<div class="fragment"><div class="line"><span class="comment">// Wait until the interrupt signal is sent.</span></div>
<div class="line"><a class="code hl_function" href="namespacegz_1_1transport.html#a5ce095f75195272da1dee933c773a4f7" title="Block the current thread until a SIGINT or SIGTERM is received. Note that this function registers a s...">gz::transport::waitForShutdown</a>();</div>
<div class="line"> </div>
<div class="line">recorder.Stop();</div>
</div><!-- fragment --><p>In our example, we are logging messages until the user hits <code>CTRL-C</code>. The function <code><a class="el" href="namespacegz_1_1transport.html#a5ce095f75195272da1dee933c773a4f7" title="Block the current thread until a SIGINT or SIGTERM is received. Note that this function registers a s...">gz::transport::waitForShutdown()</a></code> captures the appropriate signal and blocks the execution until that event occurs. Then, <code>recorder.Stop()</code> stops the log recording as expected.</p>
<h2><a class="anchor" id="play-back"></a>
Play back</h2>
<p>Download the <a href="https://github.com/gazebosim/gz-transport/raw/main/example/playback.cc">playback.cc</a> file within the <code>gz_transport_tutorial</code> folder and open it with your favorite editor:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;regex&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Playback_8hh.html">gz/transport/log/Playback.hh</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> (argc != 2)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Usage: &quot;</span> &lt;&lt; argv[0] &lt;&lt; <span class="stringliteral">&quot; INPUT.tlog\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  gz::transport::log::Playback player(argv[1]);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Playback all topics</span></div>
<div class="line">  <span class="keyword">const</span> int64_t addTopicResult = player.AddTopic(<a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/regex/basic_regex.html">std::regex</a>(<span class="stringliteral">&quot;.*&quot;</span>));</div>
<div class="line">  <span class="keywordflow">if</span> (addTopicResult == 0)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;No topics to play back\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addTopicResult &lt; 0)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Failed to advertise topics: &quot;</span> &lt;&lt; addTopicResult</div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Begin playback</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span> handle = player.Start();</div>
<div class="line">  <span class="keywordflow">if</span> (!handle)</div>
<div class="line">  {</div>
<div class="line">    <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Failed to start playback\n&quot;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> -2;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Wait until the player stops on its own</span></div>
<div class="line">  <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Playing all messages in the log file\n&quot;</span>;</div>
<div class="line">  handle-&gt;WaitUntilFinished();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="walkthrough-19"></a>
Walkthrough</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Playback_8hh.html">gz/transport/log/Playback.hh</a>&gt;</span></div>
</div><!-- fragment --><p>The <code><a class="el" href="Playback_8hh.html">Playback.hh</a></code> header contains all the log play back functionality. Make sure that is included in your source code.</p>
<div class="fragment"><div class="line">gz::transport::log::Playback player(argv[1]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Playback all topics</span></div>
<div class="line"><span class="keyword">const</span> int64_t addTopicResult = player.AddTopic(<a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/regex/basic_regex.html">std::regex</a>(<span class="stringliteral">&quot;.*&quot;</span>));</div>
<div class="line">}</div>
</div><!-- fragment --><p>The next step requires to instantiate a <code><a class="el" href="classlog_1_1Playback.html" title="Initiates playback of Gazebo Transport topics This class makes it easy to play topics from a log file...">log::Playback</a></code> object and to specify the path to the file containing the log. The <code>AddTopic()</code> function accepts a regular expression to set the appropriate topic filter. In our example, we are playing back all messages.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> handle = player.Start();</div>
</div><!-- fragment --><p>The <code>Start()</code> method starts message playback. Note that this is an asynchronous function, the messages will be published without blocking the current thread.</p>
<div class="fragment"><div class="line">handle-&gt;WaitUntilFinished();</div>
</div><!-- fragment --><p>In this example we are not interested in doing anything else, besides playing back messages. Therefore, we can use <code>WaitUntilFinished()</code> to block the current thread until all messages have been published.</p>
<h2><a class="anchor" id="building-the-code-2"></a>
Building the code</h2>
<p>Download the <a href="https://github.com/gazebosim/gz-transport/raw/main/example/CMakeLists.txt">CMakeLists.txt</a> file within the <code>gz_transport_tutorial</code> folder.</p>
<p>Once you have all your files, go ahead and create a <code>build/</code> directory within the <code>gz_transport_tutorial</code> directory.</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
</div><!-- fragment --><p> Run <code>cmake</code> and build the code.</p>
<div class="fragment"><div class="line"># Linux and MacOS</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
<div class="line"> </div>
<div class="line"># Windows</div>
<div class="line">cmake --build . --config Release</div>
</div><!-- fragment --><h2><a class="anchor" id="running-the-examples-4"></a>
Running the examples</h2>
<p><b>NOTE:</b> It is essential to have a valid value of <code>GZ_PARTITION</code> environment variable and to have it set to the same value in all open terminals. As <code>GZ_PARTITION</code> is based on hostname and username, especially Windows and Mac users might have problems due to spaces in their username, which are not a valid character in <code>GZ_PARTITION</code>. gz-transport prints error <code>Invalid partition name</code> in such case. To resolve that, set <code>GZ_PARTITION</code> explicitly to a valid value: </p><div class="fragment"><div class="line"># Linux and Mac</div>
<div class="line">export GZ_PARTITION=test</div>
<div class="line"># Windows</div>
<div class="line">set GZ_PARTITION=test</div>
</div><!-- fragment --><p>Open two new terminals and from your <code>build/</code> directory run the recorder.</p>
<p>From terminal 1:</p>
<div class="fragment"><div class="line"># Linux and MacOS</div>
<div class="line">./log_record tutorial.tlog</div>
<div class="line"> </div>
<div class="line"># Windows</div>
<div class="line">.\Release\log_record.exe tutorial.tlog</div>
<div class="line"> </div>
<div class="line">Press Ctrl+C to finish recording.</div>
<div class="line">  Recording...</div>
</div><!-- fragment --><p>From terminal 2, publish a message using <code>gz</code>:</p>
<div class="fragment"><div class="line">gz topic -t /foo -m gz.msgs.StringMsg -p &#39;data:&quot;Hello log&quot;&#39;</div>
</div><!-- fragment --><p>From terminal 1, hit <code>CTRL-C</code> in your recorder terminal to stop the recording.</p>
<p>Moving back to terminal 2, run a subscriber:</p>
<div class="fragment"><div class="line">gz topic -t /foo -e</div>
</div><!-- fragment --><p>And from terminal 1, playback your log file:</p>
<div class="fragment"><div class="line"># Linux and MacOS</div>
<div class="line">./log_playback tutorial.tlog</div>
<div class="line"> </div>
<div class="line"># Windows</div>
<div class="line">.\Release\log_playback.exe tutorial.tlog</div>
</div><!-- fragment --><p>You should receive one message in terminal 2:</p>
<div class="fragment"><div class="line">data: &quot;Hello log&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="using-gz-for-recording-and-playing-back"></a>
Using gz for recording and playing back</h2>
<p>As an alternative to the C++ API, we could use the <code>gz</code> suite of command line tools for recording and playing back messages.</p>
<p>Next is how you can record a set of messages using <code>gz</code>:</p>
<div class="fragment"><div class="line">gz log record --force --file tutorial.tlog</div>
</div><!-- fragment --><p>And here's how you can play back the previous log file using <code>gz</code>:</p>
<div class="fragment"><div class="line">gz log playback --file tutorial.tlog</div>
</div><!-- fragment --><p>For further options, try running: </p><div class="fragment"><div class="line">gz log record -h</div>
</div><!-- fragment --><p> and </p><div class="fragment"><div class="line">gz log playback -h</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
