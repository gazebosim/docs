<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="keywords" content="Gazebo Transport">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gazebo Transport: Security</title>
    <script type="text/javascript" src="https://gazebosim.org/assets/doxygen/dynsections.js"></script>
    <script type="text/javascript" src="jquery.js"></script>
    <link rel="icon" type="image/x-icon" href="https://gazebosim.org/assets/icon/favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_orange-blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href="https://gazebosim.org/assets/doxygen/doxygen.css" rel="stylesheet" type="text/css">
  </head>
    <script type="text/javascript">
      /* Replace all the "permalink" &#9670;&nbsp; icons with a unicode link
        symbol.*/
      $(document).ready(function() {
        var elems = document.getElementsByClassName("permalink");
        for (var i = 0; i < elems.length; ++i) {
          elems[i].firstChild.innerHTML="&#x1f517;";
          elems[i].firstChild.style.fontSize="18px";
        }
      });
    </script>
  </head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
    <div class="mdl-layout__drawer mdl-color--grey-100 mdl-color-text--blue-grey-50">
      <header class="mdl-color--grey-100">
        <a href="index.html"><img width="60px" src="https://gazebosim.org/assets/doxygen/gazebo_logo.svg"/></a>
        <h1 class="project_title">Gazebo Transport</h1>
        <h2>API Reference</h2>
        <div class="version">
        15.0.0~pre2
        </div>
      </header>
      <!-- NOTE: If you add a link to a doxygen generated page, then make
                 sure to update the required_html_fils list in
                 GzCreateDocs.cmake -->
      <nav class="gz-navigation mdl-navigation">
        <a class="mdl-navigation__link" href="tutorials.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Tutorials</a>
        <a id="class_menu" class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">library_books</i>Classes</a>
        <a id="namespaces_menu"class="mdl-navigation__link" href="#">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">toc</i>Namespaces</a>
        <a class="mdl-navigation__link" href="files.html">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">insert_drive_file</i>Files</a>
        <a class="mdl-navigation__link" target="_blank"
           href="http://gazebosim.org">
          <i class="mdl-color-text--grey-400 material-icons"
             role="presentation">launch</i>Gazebo Website</a>
      </nav>
      <!-- classes sub menu -->
      <ul for="class_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link" href="classes.html">Index</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="annotated.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="hierarchy.html">Hierarchy</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions.html">Members: All</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_func.html">Members: Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_vars.html">Members: Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_type.html">Members: Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_enum.html">Members: Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
             href="functions_eval.html">Members: Enumerator</a>
        </li>
      </ul>
      <!-- namespaces sub menu -->
      <ul for="namespaces_menu" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-navigation">
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespaces.html">List</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers.html">Members</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_func.html">Functions</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_type.html">Typedefs</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_vars.html">Variables</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_enum.html">Enumerations</a>
        </li>
        <li class="mdl-menu__item">
          <a class="mdl-navigation__link"
            href="namespacemembers_eval.html">Enumerator</a>
        </li>
      </ul>
    </div>
    <main class="mdl-layout__content mdl-color--white">
    <div id="top">
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Security</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Next Tutorial: <a class="el" href="relay.html">Relay</a> Previous Tutorial: <a class="el" href="python.html">Python Support</a></p>
<h2><a class="anchor" id="overview-4"></a>
Overview</h2>
<p><b>Note: This feature is only available when using the zeromq middleware backend.</b></p>
<p>Gazebo Transport's default mode of communication is insecure, which means no authentication or encryption is used. Insecure communication is the default because it is simple to implement and use, supports introspection, and reduces third-party development effort.</p>
<p>There are many cases when security is required by an application. For example, authentication may be needed to verify participants in a network. Gazebo Transport relies on security features available in ZeroMQ. The available security features include authentication, and encryption. <br  />
</p>
<p>The remainder of the this tutorial describes how to setup and use security with Gazebo Transport.</p>
<h2><a class="anchor" id="authentication"></a>
Authentication</h2>
<p>Authentication relies on a username and password to limit access to communication topics. Currently, authentication in Gazebo Transport operates at the process level. This means all topics within a process will either use, or not use, authentication.</p>
<p>Two environment variables are used to enable authentications:</p>
<ol type="1">
<li><code>GZ_TRANSPORT_USERNAME</code> : The username</li>
<li><code>GZ_TRANSPORT_PASSWORD</code> : The password</li>
</ol>
<p>When both <code>GZ_TRANSPORT_USERNAME</code> and <code>GZ_TRANSPORT_PASSWORD</code> are set, the authentication is enabled for a process. Every publisher in a secure process will require subscribers to provide the correct username and password. Also, every subscriber will only connect to secure publishers.</p>
<h3><a class="anchor" id="example"></a>
Example</h3>
<p><b>NOTE:</b> It is essential to have a valid value of <code>GZ_PARTITION</code> environment variable and to have it set to the same value in all open terminals. As <code>GZ_PARTITION</code> is based on hostname and username, especially Windows and Mac users might have problems due to spaces in their username, which are not a valid character in <code>GZ_PARTITION</code>. gz-transport prints error <code>Invalid partition name</code> in such case. To resolve that, set <code>GZ_PARTITION</code> explicitly to a valid value: </p><div class="fragment"><div class="line"># Linux and Mac</div>
<div class="line">export GZ_PARTITION=test</div>
<div class="line"># Windows</div>
<div class="line">set GZ_PARTITION=test</div>
</div><!-- fragment --><p>First, let's test insecure communication. This example requires <a href="https://github.com/gazebosim/gz-tools">gz-tools</a>.</p>
<ol type="1">
<li>Open a terminal, and echo topic <code>/foo</code>. <div class="fragment"><div class="line">gz topic -t /foo -e</div>
</div><!-- fragment --></li>
<li>Open a second terminal and publish a message on topic <code>/foo</code>. <div class="fragment"><div class="line">gz topic -t /foo -m gz.msgs.StringMsg -p &#39;data:&quot;Insecure message&quot;&#39;</div>
</div><!-- fragment --></li>
<li>The first terminal should see the following output. <div class="fragment"><div class="line">data: &quot;Insecure message&quot;</div>
</div><!-- fragment --></li>
</ol>
<p>Now let's try a secure publisher and an insecure subscriber.</p>
<ol type="1">
<li>Leave the first terminal running <code>gz topic -t /foo -e</code>.</li>
<li>Setup authentication in the second terminal: <div class="fragment"><div class="line"># Linux and MacOS</div>
<div class="line">export GZ_TRANSPORT_USERNAME=user</div>
<div class="line">export GZ_TRANSPORT_PASSWORD=pass</div>
<div class="line"> </div>
<div class="line"># Windows</div>
<div class="line">set GZ_TRANSPORT_USERNAME=user</div>
<div class="line">set GZ_TRANSPORT_PASSWORD=pass</div>
</div><!-- fragment --></li>
<li>Now publish a message in the second terminal: <div class="fragment"><div class="line">gz topic -t /foo -m gz.msgs.StringMsg -p &#39;data:&quot;Secure message&quot;&#39;</div>
</div><!-- fragment --></li>
<li>The first terminal should not change, which indicates that subscriber was not able to authenticate with the secure publisher.</li>
</ol>
<p>Finally, let's create secure subscriber.</p>
<ol type="1">
<li>Open a third terminal, and setup authentication in that terminal. <div class="fragment"><div class="line"># Linux and MacOS</div>
<div class="line">export GZ_TRANSPORT_USERNAME=user</div>
<div class="line">export GZ_TRANSPORT_PASSWORD=pass</div>
<div class="line"> </div>
<div class="line"># Windows</div>
<div class="line">set GZ_TRANSPORT_USERNAME=user</div>
<div class="line">set GZ_TRANSPORT_PASSWORD=pass</div>
</div><!-- fragment --></li>
<li>Echo the <code>/foo</code> topic in the secure third terminal. <div class="fragment"><div class="line">gz topic -t /foo -e</div>
</div><!-- fragment --></li>
<li>Go back to the secure publisher in the second terminal, and re-run the publish command. <div class="fragment"><div class="line">gz topic -t /foo -m gz.msgs.StringMsg -p &#39;data:&quot;Secure message&quot;&#39;</div>
</div><!-- fragment --></li>
<li>The third terminal, running the secure subscriber, should output the following. <div class="fragment"><div class="line">data: &quot;Secure message&quot;</div>
</div><!-- fragment --></li>
<li>The insecure subscriber in the first terminal should not change.</li>
</ol>
<h2><a class="anchor" id="encryption"></a>
Encryption</h2>
<p>Coming soon. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
      </div>
    </main>
  </div>
</body>
